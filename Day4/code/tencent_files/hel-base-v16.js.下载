!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(function(){return function(){var e={"../../node_modules/.pnpm/hel-lib-proxy@4.9.7_hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-lib-proxy/dist/hel-lib-proxy.min.js":
/*!**********************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/hel-lib-proxy@4.9.7_hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-lib-proxy/dist/hel-lib-proxy.min.js ***!
  \**********************************************************************************************************************************************/function(e,t,r){var n,o,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}a=function(e,t){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}(t),n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */function o(e,r){var n=r||(null===t.getAppPlatform||void 0===t.getAppPlatform?void 0:t.getAppPlatform(e)),o=t.getSharedCache(n).appName2Lib;return o[e]||(o[e]={}),o[e]}var i="4.9.6";r.log("hel-lib-proxy ver ".concat(i));var a=r.getUserEventBus,u=r.helConsts,c=a();function l(e,t){var o=n({},t||{});return o.platform=u.DEFAULT_PLAT,r.getVerLib(e,o)}function p(e,n){var i,a=!0,s="";n&&("string"==typeof n?s=n:(s=n.platform||"",a=null===(i=n.asProxy)||void 0===i||i));var c=o(e,s=s||r.getAppPlatform(e)||u.DEFAULT_PLAT);return"function"==typeof Proxy&&a&&(c=function(e,r,n){return new Proxy(r,{get:function(r,i){var a=String(i);return t.log("[[getLibProxy]] call lib [".concat(e,"] method [").concat(a,"]")),Object.keys(r).length?r[a]:o(e,n)[a]}})}(e,c,s)),r.log("[[ exposeLib ]] libName, libObj",e,c),c}function f(e,o,i){var a=function(e){var r={allowDup:!1,platform:t.helConsts.DEFAULT_PLAT};return n(n({},r),e||{})}(i);r.libReady(e,o,a)}function d(e,t,n){r.appReady(e,t,n)}function v(e,t){return r.getVerApp(e,t)}var m=r.isSubApp;function h(){return!r.isSubApp()}var g=Object.freeze({__proto__:null,VER:i,eventBus:c,getLib:l,exposeLib:p,libReady:f,appReady:d,exposeApp:v,isSubApp:m,isMasterApp:h}),b=t.commonUtil.purify,y=["isMasterApp","isSubApp","eventBus"],_=["appReady","libReady"];function A(e,t){return t&&"object"==s(t)?n({platform:e},b(t)):t}var S=function e(t){var r=function(e,t){var r={};return Object.keys(e).forEach((function(n){var o=e[n];if(y.includes(n))r[n]=o;else if(_.includes(n))r[n]=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r[0],i=r[1],a=r[2];return e(o,i,A(t,void 0===a?{}:a))}}(o,t);else{var i="exposeLib"===n;r[n]=function(e,t,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=n[0],a=n[1];return e(i,!r||"string"!=typeof a&&void 0!==a?A(t,a):a||t)}}(o,t,i)}})),r}(g,t);return r.createInstance=e,r},E=i,L=f,I=p,T=l,C=m,P=h,N=c,O=d,w=v,D={VER:E,libReady:L,exposeLib:I,getLib:T,isSubApp:C,isMasterApp:P,eventBus:N,appReady:O,exposeApp:w,createInstance:S};e.VER=E,e.appReady=O,e.createInstance=S,e.default=D,e.eventBus=N,e.exposeApp=w,e.exposeLib=I,e.getLib=T,e.isMasterApp=P,e.isSubApp=C,e.libReady=L,Object.defineProperty(e,"__esModule",{value:!0})},"object"==s(t)?a(t,r(/*! hel-micro-core */"../../node_modules/.pnpm/hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-micro-core/es/index.js")):(o=[t,r(/*! hel-micro-core */"../../node_modules/.pnpm/hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-micro-core/es/index.js")],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},"../../node_modules/.pnpm/hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-micro-core/es/index.js":
/*!*************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-micro-core/es/index.js ***!
  \*************************************************************************************************************/function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,{allowLog:function(){return mt},appReady:function(){return tr},clearPerfMark:function(){return yt},commonDataUtil:function(){return Vt},commonUtil:function(){return ct},evName:function(){return $t},getAppMeta:function(){return Tt},getAppPlatform:function(){return Wt},getAppStyleStr:function(){return kt},getCommonData:function(){return Dt},getCustomData:function(){return Ot},getGlobalThis:function(){return _t},getHelDebug:function(){return vt},getHelEventBus:function(){return Qt},getPlatform:function(){return ft},getPlatformConfig:function(){return Yt},getSharedCache:function(){return dt},getUserEventBus:function(){return Zt},getVerApp:function(){return St},getVerExtraCssList:function(){return Ut},getVerLib:function(){return Lt},getVerLoadStatus:function(){return Mt},getVerStyleStrStatus:function(){return Ft},getVersion:function(){return Pt},helConsts:function(){return st},helEvents:function(){return it},helLoadStatus:function(){return at},inectPlatToMod:function(){return ut},initGlobalConfig:function(){return zt},initPlatformConfig:function(){return qt},isSubApp:function(){return lt},libReady:function(){return er},log:function(){return ht},originInit:function(){return Jt},perfMark:function(){return gt},perfPeek:function(){return bt},resetGlobalThis:function(){return pt},setAppMeta:function(){return Ct},setAppPlatform:function(){return Xt},setAppStyleStr:function(){return Gt},setCommonData:function(){return xt},setCustomData:function(){return wt},setEmitApp:function(){return Et},setEmitLib:function(){return It},setGlobalThis:function(){return At},setVerExtraCssList:function(){return Bt},setVerLoadStatus:function(){return Rt},setVerStyleStrStatus:function(){return jt},setVersion:function(){return Nt},tryGetAppName:function(){return Ht},tryGetVersion:function(){return Kt}});var f=null;function d(){return f||function(){if("undefined"==typeof window){if(void 0===r.g)throw new Error("unable to locate global object");f=r.g}else f=window}(),f}function v(){return d()}function m(){var e=d();return e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver}function h(e,t){for(var r=null,n=e.length,o=0;o<n;o++){var i=e[o];if(i.tagName===t){r=i;break}}return r}function g(e){return Object.keys(e)}function b(e){var t,r=null===(t=d())||void 0===t?void 0:t.localStorage;return null==r?void 0:r.getItem(e)}function y(e,t){var r,n=null===(r=d())||void 0===r?void 0:r.localStorage;return null==n?void 0:n.setItem(e,t)}function _(){var e=function(){var e=function(e){var t=e||{},r=t.search||"";if(!r){var n=(t.hash||"").split("?")[1]||"";n&&(r="?".concat(n))}return r};try{var t,r;return e(null===(t=d())||void 0===t||null===(r=t.top)||void 0===r?void 0:r.location)}catch(t){var n;return e(null===(n=d())||void 0===n?void 0:n.location)}}(),t={};null!=e&&e.startsWith("?")&&e.substring(1).split("&").forEach((function(e){var r=u(e.split("="),2),n=r[0],o=r[1];t[n]=o}));return t}function A(){var e="";try{throw new Error("getJsRunLocation")}catch(n){var t=n.stack.split("\n"),r=t.length;e=t[r-1]||t[r-2]||""}return e}function S(e,t,r,n){E(e,t)[r]=n}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e[t];return n||(n=r,e[t]=n),n}function L(e,t){Object.keys(t).forEach((function(r){var n=t[r];[null,void 0,""].includes(n)||(e[r]=n)}))}function I(e,t){e.includes(t)||e.push(t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.nullValues,n=void 0===r?[null,void 0,""]:r,o=t.emptyObjIsNull,i=void 0===o||o,s=t.emptyArrIsNull,u=void 0===s||s;if(n.includes(e))return!0;if(Array.isArray(e))return!!u&&0===e.length;if("object"===a(e)){var c=g(e).length;return!!i&&0===c}return!1}function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}var P=T,N=I,O=g;function w(e,t){var r=t||function(e){return!P(e)},n={};return O(e).forEach((function(t){r(e[t])&&(n[t]=e[t])})),n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MULTI",r=e.split("\n"),n=r.length-1,o=r.map((function(e,r){var o;if(!e&&(0===r||r===n))return"";var i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e;return e.endsWith("<br/>")?(n=e.substring(0,n.length-5),"".concat(n).concat(t)):"".concat(n).concat(r)},a=(null===(o=e.trimStart)||void 0===o?void 0:o.call(e))||e;return"MULTI"===t?"".concat(i(a,""),"\n"):a=i(a,"\n"," ")})).join("");return o}function x(e){return D(e,"ONE")}function V(e,t,r){e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(t),r)}function M(e){V(e,"heldisabled","1"),e.disabled=!0}var R=Object.freeze({__proto__:null,noop:C,safeParse:function(e,t,r){if(e&&"string"!=typeof e)return e;try{return JSON.parse(e)||t}catch(e){if(void 0!==t)return t;if(r)throw new Error(r);throw e}},isNull:P,noDupPush:N,okeys:O,merge2List:function(e,t){var r=[];return e.forEach((function(e){return N(r,e)})),t.forEach((function(e){return N(r,e)})),r},purify:w,getObjsVal:function(e,t,r){var n,o=r,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(i.s();!(n=i.n()).done;){var a=n.value[t];if(![null,void 0,""].includes(a)){o=a;break}}}catch(e){i.e(e)}finally{i.f()}return o},pfstr:D,nbstr:x,nbalert:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d(),o=x(e),i=n.alert||C;r?(null===(t=n.location)||void 0===t?void 0:t.port)&&i(o):i(o)},setDataset:V,disableNode:M});var F="unpkg",j="__default_online_ver__",k=F,G={CORE_VER:"4.9.6",DEFAULT_API_PREFIX:"https://unpkg.com",DEFAULT_API_URL:"/openapi/v1/app/info",DEFAULT_ONLINE_VER:j,DEFAULT_USER_LS_KEY:"HelUserRtxName",DEFAULT_PLAT:k,LS_LOG_MODE:"HelConfig.logMode",LS_LOG_FILTER:"HelConfig.logFilter",PLAT_HEL:"hel",PLAT_UNPKG:F,KEY_CSS_STR:"CSS_STR",KEY_ASSET_CTX:"ASSET_CTX",KEY_STYLE_TAG_ADDED:"STYLE_TAG_ADDED",KEY_CSS_LINK_TAG_ADDED:"CSS_LINK_TAG_ADDED",KEY_IGNORE_CSS_PREFIX_LIST:"IGNORE_CSS_PREFIX_LIST",KEY_IGNORE_STYLE_TAG_KEY:"IGNORE_STYLE_TAG_KEY",KEY_IGNORE_CSS_PREFIX_2_KEYS:"IGNORE_CSS_PREFIX_2_KEYS"},U={SUB_APP_LOADED:"subAppLoaded",SUB_LIB_LOADED:"SubLibLoaded",STYLE_STR_FETCHED:"StyleStrFetched",STYLE_TAG_ADDED:"StyleTagAdded",CSS_LINK_TAG_ADDED:"CssLinkTagAdded"},B={NOT_LOAD:0,LOADING:1,LOADED:2},K=G.LS_LOG_FILTER,H=G.LS_LOG_MODE,Y=0,W=1,X=2,q={isIncludeFilter:function(e,t){return t.includes(",")?t.split(",").some((function(t){return e.includes(t)})):e.includes(t)},getLogFilter:function(){return Z().logFilter},setLogFilter:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Z().logFilter=e,t&&y(K,e)},setLogMode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=parseInt(e,10);[Y,W,X].includes(r)&&(Z().logMode=r,t&&y(H,r))},getLogMode:function(){return Z().logMode}},J={};function z(){if(T(J=v().__HEL_MICRO_DEBUG__)){J={logMode:Y,logFilter:"",isInit:!1},v().__HEL_MICRO_DEBUG__=J;try{!function(){if(!Z().isInit){Z().isInit=!0;var e=_(),t=e.hellog,r=e.hellogf,n=t||b(H)||Y;q.setLogMode(n,!1);var o=r||b(K)||"";q.setLogFilter(o,!1)}}()}catch(e){}}else void 0===J.logMode&&(J.logMode=Y,J.logFilter="")}function Q(){return q.getLogMode()!==Y}function Z(){return J}var $="  %c--\x3e HEL LOG:",ee="color:#ad4e00;font-weight:600";function te(){if(Q()){for(var e=q.getLogMode()===W?console.log:console.trace||console.log,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0],i=r.slice(1);if("string"!=typeof o)return e.apply(void 0,[$,ee].concat(r));var a=q.getLogFilter(),s=["".concat($," ").concat(o),ee].concat(c(i));a?q.isIncludeFilter(o,a)&&e.apply(void 0,c(s)):e.apply(void 0,c(s))}}var re={};function ne(e,t,r){if(Q()&&re[e]){var n=re[e];te("[[ PerfCheck ]] (".concat(e,"/").concat(t,") costs ").concat(Date.now()-n," ms")),r&&oe(e)}}function oe(e){re[e]=0}var ie=G.DEFAULT_API_URL,ae=G.DEFAULT_USER_LS_KEY,se=G.PLAT_HEL,ue=G.PLAT_UNPKG,ce=G.DEFAULT_API_PREFIX,le=G.CORE_VER,pe=G.KEY_CSS_LINK_TAG_ADDED,fe=G.KEY_STYLE_TAG_ADDED,de=G.KEY_IGNORE_CSS_PREFIX_LIST,ve=G.KEY_IGNORE_STYLE_TAG_KEY,me=G.KEY_IGNORE_CSS_PREFIX_2_KEYS;function he(e){return{apiMode:"get",apiPrefix:(e||{}).apiPrefix,apiSuffix:"",apiPathOfApp:ie,apiPathOfAppVersion:"",getSubAppAndItsVersionFn:null,onFetchMetaFailed:null,strictMatchVer:!0,getUserName:null,userLsKey:ae,shouldUseGray:null,trustAppNames:null,semverApi:null,hook:{}}}function ge(e){return i(i({isConfigOverwrite:!1,platform:e,appName2Comp:{},appName2Lib:{},appName2isLibAssigned:{},appName2EmitApp:{},appName2verLoadStatus:{},appName2verEmitLib:{},appName2verEmitApp:{},appName2verStyleStr:{},appName2verStyleFetched:{},appName2verExtraCssList:{},appName2verAppVersion:{},appName2verCustomData:{},appName2app:{},appName2appVersion:{},appName2styleStr:{},appGroupName2firstVer:{},isOriginInitCalled:!1},he()),{},{origin:he({apiPrefix:ce})})}function be(){var e={};return{on:function(t,r){var n=e[t];if(!n){var o=[];e[t]=o,n=o}n.push(r)},emit:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=e[t];i&&i.slice().forEach((function(e){return e.apply(void 0,n)}))},off:function(t,r){var n=e[t];if(n)for(var o=0,i=n.length;o<i;o++){if(n[o]===r){n.splice(o,1);break}}}}}function ye(e){[pe,fe,de,ve,me].forEach((function(t){return E(e,t,function(e){return e===de?[]:{}}(t))}))}function _e(){var e=Ae();if(e){var t=e.cacheRoot;E(t,"appGroupName2platform"),E(t,"common");var r=t.caches;return Object.keys(r).forEach((function(e){var t=r[e];E(t,"appGroupName2firstVer"),E(t,"appName2isLibAssigned"),E(t,"appName2verExtraCssList"),E(t,"appName2verCustomData"),E(t,"hook"),E(t,"origin",he()),E(t.origin,"hook")})),ye(t.common),void(e.userEventBus||(e.userEventBus=be()))}e=function(){var e,t=ge(ue),r=ge(se),n={platform:se,platformHint:"the platform value here does not make any sense!",appName2platform:{},appGroupName2platform:{},caches:(e={},s(e,ue,t),s(e,se,r),e),common:{}},o=be(),i=be();return{ver:le,isStyleObInit:!1,nativeHeadAppend:null,nativeBodyAppend:null,patchedHeadAppend:null,patchedBodyAppend:null,createFeature:A(),eventBus:o,userEventBus:i,cacheRoot:n,unpkgCache:t,helCache:r,dev:{setLogMode:q.setLogMode,setLogFilter:q.setLogFilter}}}(),ye(e.cacheRoot.common),v().__HEL_MICRO_SHARED__=e}function Ae(){return v().__HEL_MICRO_SHARED__}function Se(){return k}function Ee(e){var t=e||Se(),r=Le(),n=r.caches[t];if(!n){var o=a(e);if("string"!==o)throw console.error("invalid plaform:",e),new Error("fatal error: platform only can be a string, now it is ".concat(o));var i=ge(e);r.caches[t]=i,n=i}return n}function Le(){return Ae().cacheRoot}var Ie={getCustomData:function(e,t,r){var n=r.versionId,o=E(Ee(r.platform).appName2verCustomData,e);return E(o,t)[n||j]},getAppMeta:function(e,t){return Ee(t).appName2app[e]},setVerLoadStatus:function(e,t,r,n){var o=n||{},i=o.versionId;S(Ee(o.platform)[r],e,i||j,t)},getVerLoadStatus:function(e,t,r){var n,o=r||{},i=o.versionId,a=Ee(o.platform)[t],s=i||j;return(null===(n=a[e])||void 0===n?void 0:n[s])||B.NOT_LOAD},ensureOnlineModule:function(e,t,r){if(!e[j]){var n=Ie.getAppMeta(t,r),o=e[null==n?void 0:n.online_version];o&&(e[j]=o)}}};function Te(e,t){te("[[ core:setEmitApp ]] appName,emitApp:",e,t);var r=t.versionId,n=Ee(t.platform),o=n.appName2verEmitApp,i=n.appName2Comp,a=n.appName2EmitApp;E(o,e)[j]||(i[e]=t.Comp,a[e]=t,S(o,e,j,t)),r&&S(o,e,r,t)}var Ce=G.KEY_CSS_LINK_TAG_ADDED,Pe=G.KEY_STYLE_TAG_ADDED,Ne=G.KEY_IGNORE_CSS_PREFIX_LIST,Oe=G.KEY_IGNORE_STYLE_TAG_KEY,we=G.KEY_IGNORE_CSS_PREFIX_2_KEYS;function De(e){return E(Le().common,e)}function xe(e){return Le().common[e]}function Ve(e,t){var r=De(e)[t];return void 0!==r?r:null}function Me(e,t,r){De(e)[t]=r}var Re={setIgnoreCssPrefix:function(e){I(xe(Ne),e)},setIgnoreStyleTagKey:function(e){Re.getIgnoreStyleTagMap()[e]=1},getIgnoreStyleTagMap:function(){return xe(Oe)},setIgnoreCssPrefixKey:function(e,t){var r=Ve(we,e);r||Me(we,e,r=[]),I(r,t)},getIgnoreCssPrefixKeys:function(e){return xe(we)[e]||[]},getMatchedIgnoreCssPrefix:function(e){for(var t=xe(Ne),r="",n=0;n<t.length;n++){var o=t[n];if(e.startsWith(o)){r=o;break}}return r},getIgnoreCssPrefixCssUrlList:function(e){var t=Ve(Ce,e);return t||Me(Ce,e,t=[]),t},setIgnoreCssPrefixCssUrl:function(e,t){Re.getIgnoreCssPrefixCssUrlList(e).push(t)},getStyleTagText:function(e){return Ve(Pe,e)||""},clearStyleTagText:function(e){Me(Pe,e,"")},appendStyleTagText:function(e,t){var r=Re.getStyleTagText(e);Me(Pe,e,"".concat(r," ").concat(t))}};function Fe(e,t){var r=e.apiMode,n=e.apiPrefix,o=e.apiSuffix,i=e.apiPathOfApp,a=e.apiPathOfAppVersion,s=e.getSubAppAndItsVersionFn,u=e.onFetchMetaFailed,c=e.strictMatchVer,l=e.getUserName,p=e.userLsKey,f=e.shouldUseGray,d=e.getApiPrefix,v=e.trustAppNames,m=e.platform,h=e.origin,g={apiMode:r,apiPrefix:n,apiSuffix:o,apiPathOfApp:i,apiPathOfAppVersion:a,getSubAppAndItsVersionFn:s,onFetchMetaFailed:u,strictMatchVer:c,getUserName:l,userLsKey:p,shouldUseGray:f,getApiPrefix:d,trustAppNames:v,hook:e.hook,platform:m};return t&&(g.origin=h),g}function je(e){return Le().appGroupName2platform[e]||Se()}function ke(e,t){var r=t.customKey,n=E(Ee(t.platform).appName2verCustomData,e);return E(n,r)}var Ge=U.STYLE_TAG_ADDED,Ue=U.CSS_LINK_TAG_ADDED;function Be(){return Ae().eventBus}var Ke={styleTagAdded:function(e){return"".concat(Ge,"/").concat(e)},cssLinkTagAdded:function(e){return"".concat(Ue,"(").concat(e,")")}};function He(e,t,r){var n=(r||{}).appGroupName,o=t.versionId,i=t.appProperties,s=t.platform||r.platform,u=Ee(s),c=u.appName2verEmitLib,l=u.appName2Lib,p=u.appName2isLibAssigned,f=Ie.getAppMeta(e,s),d=function(e){var t=l[e];t?"object"===a(t)&&0===Object.keys(t).length&&Object.assign(t,i):l[e]=i,p[e]=!0};d(e),n?d(n):f&&d(f.app_group_name),te("[[ core:setEmitLib ]] appMeta:",f),E(c,e)[j]||S(c,e,j,i),o&&S(c,e,o,i)}function Ye(e,t){return Ee(t).appName2app[e]}function We(e,t,r){Ie.setVerLoadStatus(e,t,"appName2verLoadStatus",r)}function Xe(e,t){var r=A();te("[[ core:tryGetVersion ]] may include source > ".concat(r));var n=Ee(t).appGroupName2firstVer[e]||"";if(r.includes("https://")||r.includes("http://")){var o=u(r.split("//"),2)[1],i=o.split("/");if(n){if(t===k&&i.some((function(e){return e.includes(n)})))return n;if(i.includes(n))return n;if("static"===i[1]&&"js"===i[2]||"js"===i[1])return n}if(t===k){var a=1;return o.indexOf("@")!==o.lastIndexOf("@")&&(a=2),i[a].split("@")[1]||n}var s=u(o.split("/".concat(t,"/")),2)[1];return u((void 0===s?"":s).split("/"),1)[0]||n}return n}function qe(e,t){return e===j?t||"":e.includes("_")?e.substring(0,e.length-15):t||""}var Je=!1,ze=!1;var Qe=G.KEY_ASSET_CTX;function Ze(e,t){if(!t||!["LINK","SCRIPT"].includes(t.tagName))return e(t);var r=t.href,n=t.tagName,o=t.src,i="LINK"===n,a=Ve(Qe,r||o||"")||{},s=a.platform,u=a.groupName,c=a.name,l=a.ver,p=a.beforeAppend,f=t;if(p){var d=i?"href":"src",v=t.getAttribute(d);f=p({el:t,nativeAppend:e,setAssetUrl:function(e){return t.setAttribute(d,e)},url:v,tagName:n})||t}return s&&function(e,t){var r=t.platform,n=t.groupName,o=t.name,i=t.ver;V(e,"el",t.elName),V(e,"plat",r),V(e,"gname",n),V(e,"name",o),V(e,"ver",i)}(f,{platform:s,groupName:u,name:c,ver:l,elName:i?"HelLink":"HelScript"}),e(f)}var $e="preFetch";var et="/* @helstart ",tt=" @helend */",rt=et.length;function nt(e,t){var r=e.tagName,n=e.innerText,o=e.href;if(["STYLE","LINK"].includes(r))if("STYLE"!==r){var i=function(e,t){var r=Be(),n=Re.getMatchedIgnoreCssPrefix(t);return n&&(Re.setIgnoreCssPrefixCssUrl(n,t),r.emit(Ke.cssLinkTagAdded(n),{nodes:[e]})),n}(e,o);i&&M(e)}else{if(!n)return;var a=n.indexOf(et);if(a<0)return;var s=n.indexOf(tt);if(s<0)return;var u=n.substring(rt+a,s);if(u){var c=u.trim(),l="",p=c;if(c.includes("/")){var f=c.split("/");l=f[0],p=f[1]}V(e,"gname",p),l&&V(e,"plat",l),t[c]&&M(e);var d=Be();Re.appendStyleTagText(c,n),d.emit(Ke.styleTagAdded(c),{nodes:[e]})}}}function ot(e,t){var r=e.tagName,n=e.src,o=void 0===n?"":n;if("SCRIPT"!==r)return!1;if(!o.endsWith(".hot-update.js"))return!1;var i=Re.getMatchedIgnoreCssPrefix(o);if(!i)return!1;var a=Re.getIgnoreCssPrefixKeys(i);if(!a.length)return!1;var s=!1;return a.forEach((function(e){t[e]&&(!function(e){var t=d();if(t){var r=t.document.head.querySelectorAll('style[data-gname="'.concat(e,'"]'));r.length&&(Re.clearStyleTagText(e),r.forEach((function(t){M(t),Re.appendStyleTagText(e,t.innerText)})),Be().emit(Ke.styleTagAdded(e),{nodes:r}))}}(e),s=!0)})),s}pt(),te("hel-micro-core ver ".concat(G.CORE_VER));var it=U,at=B,st=G,ut=function e(t,r,n){var o=n||{},s=o.ignoreKeys,u=void 0===s?[]:s,c=o.arg1PlatObjFnKeys,l=void 0===c?[]:c,p={};return Object.keys(r).forEach((function(o){var s=r[o];if(u.includes(o))p[o]=s;else{var c=a(s);p[o]=c&&"object"===c?e(t,s,n):"function"!==c?s:function(e,t){var r=this,n=t.fn,o=t.fnName,a=t.arg1PlatObjFnKeys.includes(o);return function(){for(var t=function(t){return i({platform:e},w(t||{}))},o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var c=s[0],l=s[1];return a?s[0]=t(c):s[1]=t(l),n.apply(r,s)}}(t,{arg1PlatObjFnKeys:l,fn:s,fnName:o})}})),p},ct=R,lt=function(){return"more details see: https://tnfe.github.io/hel/docs/tutorial/attention-is-subapp",console.log("%c".concat("WARNING: calling isSubApp is unsafe, use hel-iso.isSubApp instead,\nmore details see: https://tnfe.github.io/hel/docs/tutorial/attention-is-subapp"),"color:red;"),!Je};function pt(e){e&&At(e),function(e){if(e&&(Je=!1,ze=!1),!ze){ze=!0;var t=d();void 0===t.__MASTER_APP_LOADED__&&(t.__MASTER_APP_LOADED__=!0,Je=!0)}}(!!e),_e(),z(),function(){var e=d();if(!e.__POWERED_BY_QIANKUN__&&!e.__DISABLE_HEL_MONKEY_PATCH__){var t=Ae(),r=e.document,n=t.nativeHeadAppend,o=t.nativeBodyAppend;if(!n&&r){var i=r.head,a=r.body;if(n=i.appendChild.bind(i),t.nativeHeadAppend=n,a)o=a.appendChild.bind(a),t.nativeBodyAppend=o;else{var s=new(m())((function(e){for(var r,n=0;n<e.length;n++){var i=e[n].addedNodes;if(r=h(i,"BODY"))break}r&&(o=r.appendChild.bind(r),t.nativeBodyAppend=o,r.appendChild=function(e){return Ze(c(o,r,"body"),e)},s.disconnect())})),u=h(r.childNodes,"HTML");u&&s.observe(u,{childList:!0})}var c=function(r,n,o){var i=t.patchedHeadAppend,a=t.patchedBodyAppend,s="head"===o;if(i&&s)return i;if(a&&!s)return a;if(e.__POWERED_BY_WUJIE__)return r;var u=e.Element;return u?u.prototype.appendChild.bind(n):r};i.appendChild=function(e){return Ze(c(n,i,"head"),e)},a&&(a.appendChild=function(e){return Ze(c(o,a,"body"),e)})}}}(),function(){var e=Ae(),t=d(),r=e.isStyleObInit,n=t.document;if(!r&&n){e.isStyleObInit=!0;var o=Re.getIgnoreStyleTagMap(),i=m();i&&new i((function(e){e.forEach((function(e){for(var t=e.addedNodes,r=e.removedNodes,n=t.length,i=0;i<n;i++)nt(t[i],o);for(var a=r.length,s=0;s<a&&!ot(r[s],o);s++);}))})).observe(document.head,{childList:!0})}}()}var ft=Se,dt=Ee,vt=Z,mt=Q,ht=te,gt=function(e){Q()&&!re[e]&&(re[e]=Date.now())},bt=ne,yt=oe,_t=d,At=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null;null!==(t=f)&&void 0!==t&&t.__HEL_MICRO_SHARED__&&(n=f.__HEL_MICRO_SHARED__),f=r?i(i({},f),e):e,n&&(f.__HEL_MICRO_SHARED__=n)},St=function(e,t){var r,n=t||{},o=n.versionId,i=n.platform,a=Ee(i),s=a.appName2verEmitApp,u=a.appName2Comp,c=a.strictMatchVer,l=a.appName2EmitApp,p=null!==(r=n.strictMatchVer)&&void 0!==r?r:c,f=E(s,e);Ie.ensureOnlineModule(f,e,i);var d=f[o||j],v=u[e],m=v?{Comp:v}:null,h=p?null:l[e]||m,g=d||h||null;return te("[[ core:getVerApp ]] appName,options,result:",e,n,g),g},Et=Te,Lt=function(e,t){var r,n=t||{},o=n.versionId,i=Ee(n.platform),a=i.appName2verEmitLib,s=i.appName2Lib,u=i.strictMatchVer,c=i.appName2isLibAssigned,l=null!==(r=n.strictMatchVer)&&void 0!==r?r:u,p=E(a,e);Ie.ensureOnlineModule(p,e);var f=p[o||j],d=c[e]?s[e]:null,v=f||(l?null:d)||null;return te("[[ core:getVerLib ]] appName,options,result:",e,n,v),v},It=He,Tt=Ye,Ct=function(e,t){Ee(t).appName2app[e.name]=e},Pt=function(e,t){var r,n=t||{},o=n.platform,i=n.versionId,a=Ee(o),s=a.appName2verAppVersion,u=a.appName2appVersion[e]||null;return i&&(null===(r=s[e])||void 0===r?void 0:r[i])||u},Nt=function(e,t,r){var n=(r||{}).platform,o=Ee(n),i=o.appName2verAppVersion,a=o.appGroupName2firstVer,s=o.appName2appVersion,u=t.sub_app_version;if(u){var c=Ie.getAppMeta(e,n);E(i,e)[j]||(S(i,e,j,t),s[e]=t),S(i,e,u,t),a[c.app_group_name]=u}},Ot=function(e,t){var r=ke(e,t)[t.versionId||j];return void 0!==r?r:null},wt=function(e,t){var r=t.customValue,n=t.versionId;ke(e,t)[n||j]=r},Dt=Ve,xt=Me,Vt=Re,Mt=function(e,t){return Ie.getVerLoadStatus(e,"appName2verLoadStatus",t)},Rt=We,Ft=function(e,t){return Ie.getVerLoadStatus(e,"appName2verStyleFetched",t)},jt=function(e,t,r){Ie.setVerLoadStatus(e,t,"appName2verStyleFetched",r)},kt=function(e,t){var r,n=t||{},o=n.platform,i=n.versionId,a=Ee(o),s=a.appName2verStyleStr,u=a.appName2styleStr[e]||"";return i?(null===(r=s[e])||void 0===r?void 0:r[i])||u||"":u},Gt=function(e,t,r){var n=r||{},o=n.platform,i=n.versionId,a=Ee(o),s=a.appName2verStyleStr,u=a.appName2verStyleFetched,c=a.appName2styleStr;i?(S(s,e,i,t),S(u,e,i,B.LOADED)):c[e]=t},Ut=function(e,t){var r=t||{},n=r.versionId,o=E(Ee(r.platform).appName2verExtraCssList,e),i=o[n]||o[j]||[];return te("[[ core:getVerExtraCssList ]] options,cssList:",r,i),i},Bt=function(e,t,r){var n=r||{},o=n.versionId,i=Ee(n.platform).appName2verExtraCssList;te("[[ core:setVerExtraCssList ]] cssList:",t),E(i,e)[j]||S(i,e,j,t),o&&S(i,e,o,t)},Kt=Xe,Ht=qe,Yt=function(e){return Fe(Ee(e),!0)},Wt=je,Xt=function(e,t){return Le().appGroupName2platform[e]=t,je(e)},qt=function(e,t){var r=Ee(t),n=Fe(e);r.isConfigOverwrite||(r.isConfigOverwrite=!0,L(r,n))},Jt=function(e,t){var r=Ee(e),n="[[ core:originInit ]] invalid call, it can only been called";if(r.isConfigOverwrite)te("".concat(n," before init"));else if(r.isOriginInitCalled)te("".concat(n," one time"));else{var o=Fe(t);r.isOriginInitCalled=!0,L(r.origin,o)}},zt=function(e){var t=Ae(),r=t.nativeHeadAppend,n=t.nativeBodyAppend,o=e.headAppend||null,i=e.bodyAppend||null,a=function(e){return"pass same ".concat(e," handle, hel will ignore it for avlid 'Maximum call stack size exceeded'")};o&&o===r?console.error(a("headAppend")):t.patchedHeadAppend=o,i&&i===n?console.error(a("bodyAppend")):t.patchedBodyAppend=i},Qt=Be,Zt=function(){return Ae().userEventBus},$t=Ke,er=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.platform||je(e),o=r.versionId||Xe(e,n),i=r.appName||qe(o,e),a=Ye(i,n);null!=a&&a.__fromCust&&(o=r.versionId||a.online_version,i=a.name);var s={platform:n,appName:i,appGroupName:e,versionId:o,appProperties:t,Comp:function(){},lifecycle:{}};He(i,s,{appGroupName:e,platform:n}),We(i,B.LOADED,{versionId:o,platform:n});var u=Be();ne($e,"libReady"),u.emit(U.SUB_LIB_LOADED,s)},tr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.lifecycle,o=r.platform||je(e),i=r.versionId||Xe(e,o),a=r.appName||qe(i,e),s={Comp:t,appName:a,appGroupName:e,lifecycle:n,platform:o,versionId:i,isLib:!1};Te(a,s),We(a,B.LOADED,{versionId:i,platform:o});var u=Be();ne($e,"appReady"),u.emit(U.SUB_APP_LOADED,s)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return function(){"use strict";
/*!**********************************!*\
  !*** ./src/index.js + 4 modules ***!
  \**********************************/r.r(n);var e={};r.r(e),r.d(e,{VER:function(){return s},appReady:function(){return m},default:function(){return g},eventBus:function(){return v},exposeApp:function(){return h},exposeLib:function(){return l},getLib:function(){return p},isMasterApp:function(){return d},isSubApp:function(){return f},libReady:function(){return c}});var t={};r.r(t),r.d(t,{appMetaSrv:function(){return Wr},appParamSrv:function(){return Yr},appStyleSrv:function(){return Hr},batchPreFetchLib:function(){return Kr},bindExternals:function(){return nn},bindReactRuntime:function(){return an},bindVueRuntime:function(){return on},core:function(){return un},default:function(){return Gr},emitApp:function(){return qr},eventBus:function(){return Jr},getAppCacheKey:function(){return Zr},getCachedAppMeta:function(){return $r},getExtraData:function(){return tn},getFakeHelContext:function(){return en},init:function(){return zr},isSubApp:function(){return Qr},logicSrv:function(){return Xr},preFetchApp:function(){return Br},preFetchLib:function(){return Ur},resetGlobalThis:function(){return sn},setExtraData:function(){return rn}});var o=r("../../node_modules/.pnpm/hel-lib-proxy@4.9.7_hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-lib-proxy/dist/hel-lib-proxy.min.js"),i=r.n(o),a=r("../../node_modules/.pnpm/hel-micro-core@4.9.6_hel-types@4.3.3/node_modules/hel-micro-core/es/index.js"),s="4.2.0";a.log("@tencent/hel-lib-proxy ver ".concat(s));var u=i().createInstance("hel"),c=u.libReady,l=u.exposeLib,p=u.getLib,f=u.isSubApp,d=u.isMasterApp,v=u.eventBus,m=u.appReady,h=u.exposeApp,g={VER:s,libReady:c,exposeLib:l,getLib:p,isSubApp:f,isMasterApp:d,eventBus:v,appReady:m,exposeApp:h};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===b(i)?i:String(i)),n)}var o,i}var _=/\s/,A=/[a-zA-Z0-9\-]/,S="<!DOCTYPE html>",E=["meta","link"],L={meta:"</meta>",link:"</link>"},I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input="",this.len=0,this.cur=0}var t,r,n;return t=e,r=[{key:"eof",get:function(){return this.cur>=this.len}},{key:"peek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.input[this.cur+e]}},{key:"sub",value:function(e,t){var r=t||this.cur;return this.input.substring(r,r+e)}},{key:"moveCur",value:function(e){this.cur+=e}},{key:"consumeChar",value:function(e){var t=this.peek();if(t!==e)throw new Error("Unexpected character: '".concat(t,"' should be '").concat(e,"'"));return this.cur++,t}},{key:"consumeSpace",value:function(){this.consumeWhile(_)}},{key:"consumeWhile",value:function(e){var t=[];do{var r=this.peek();if(!e.test(r))break;t.push(r),this.cur++}while(!this.eof);return t.join("")}},{key:"noop",value:function(){}},{key:"pureInput",value:function(e){var t=e.trim();return t.startsWith(S)&&(t=t.substring(15)),t=function e(t){var r=t.indexOf("\x3c!--"),n=t.indexOf("--\x3e");if(r>=0&&n>=0){var o=t.substring(0,r),i=t.substring(n+3);return e("".concat(o).concat(i))}return t}(t),t}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||"";return this.input=this.pureInput(r),this.len=r.length,this.onTagOpen=t.onTagOpen||this.noop(),this.onTagClose=t.onTagClose||this.noop(),this.cur=0,this.parseNodes()}},{key:"parseNodes",value:function(){var e=[];do{var t=void 0;if("<"===this.peek()){if("/"===this.peek(1))break;t=this.parseElement()}else t=this.parseTextNode();" "!==t&&e.push(t)}while(!this.eof);return e}},{key:"parseTextNode",value:function(){return this.consumeWhile(/[^<]/).replace(/[\s\n]+/g," ")}},{key:"parseElement",value:function(){var e=this;this.consumeChar("<");var t=this.parseTag();this.onTagOpen(t),this.consumeSpace();var r=this.parseAttrs(),n=this.peek(),o=this.peek(-1),i=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.parseTag(),e.consumeSpace(),e.consumeChar(">"),o&&e.moveCur(o);var i={tag:t,attrs:r,children:n};return e.onTagClose(t,i),i};if("/>"==="".concat(o).concat(n))return i([]);if(E.includes(t)&&">"===n){var a=L[t],s=a.length;return i([],this.sub(s,this.cur+1)===a?s:0)}this.consumeChar(">");var u=this.parseNodes();return this.consumeChar("<"),this.consumeChar("/"),i(u)}},{key:"parseTag",value:function(){return this.consumeWhile(A)}},{key:"parseAttrs",value:function(){for(var e={};">"!==this.peek();){var t=this.parseTag();if(t){if("="===this.peek()){this.consumeChar("="),this.consumeChar('"');var r=this.consumeWhile(/[^"]/);this.consumeChar('"'),e[t]=r}else e[t]="";this.consumeSpace()}else this.consumeChar(this.peek())}return e}}],r&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){return(new I).parse(e,t)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}var P="4.10.5";function N(e){var t=e.appGroupName,r=e.Comp,n=e.platform,o=e.lifecycle,i=e.appName,s=e.versionId;(0,a.appReady)(t,r,{lifecycle:o,platform:n,appName:i,versionId:s})}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O=function(){return O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)};function w(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function D(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function x(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var V={LS_CACHE_APP_PREFIX:"HelAppCache",DATABASE_NAME:"HelIndexedDB",STORE_NAME:"HelMetaData"},M={};function R(){var e=(0,a.getGlobalThis)();return"indexedDB"in e?e.indexedDB:(console.warn("The current browser is not support indexedDB!"),null)}var F=function(){function e(e){this.dbInfo={db:null,name:"",storeName:"",version:1},this.ready=null,this.initStorage(e)}return e.prototype.initStorage=function(e){var t=R();if(t){var r=null,n=null;this.ready=new Promise((function(e,t){r=e,n=t}));var o=this.dbInfo;if(e){var i=e.name,s=e.storeName,u=e.version;Object.assign(o,a.commonUtil.purify({name:i,storeName:s,version:u}))}var c=M[o.name];c||(c={db:null,name:"",storeName:"",version:1},M[o.name]=c),o.db=c.db;var l=this.isUpgradeNeeded(o);if(o.db){if(!l)return void r(o);o.db.close()}var p=[o.name,void 0];l&&(p[1]=o.version);var f=t.open.apply(t,p);l&&(f.onupgradeneeded=function(e){c.db=f.result,o.db=f.result;try{o.db.createObjectStore(o.storeName)}catch(r){if("ConstraintError"!==r.name)throw r;var t=a.commonUtil.nbstr('\n              The database "'.concat(o.name,'"\n              has been upgraded from version ').concat(e.oldVersion," to version ").concat(e.newVersion,',\n              but the storage "').concat(o.storeName,'" already exists.'));console.warn(t)}}),f.onerror=function(){n(f.error)},f.onsuccess=function(){o.db=f.result,c.db=f.result,o.db.onversionchange=function(e){e.target.close()},r(o)}}},e.prototype.isUpgradeNeeded=function(e){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,n=e.version>e.db.version;if(r&&(console.warn('The database "'.concat(e.name,"\" can't be downgraded from version ").concat(e.db.version," to version ").concat(e.version)),e.version=e.db.version),n||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1},e.prototype.getObjectStore=function(e,t){var r=e.name,n=e.db,o=e.storeName;if(!n)throw new Error("get ".concat(o," objectStore failed in ").concat(r," database"));return n.transaction(o,t||"readonly").objectStore(o)},e.prototype.attachHandler=function(e,t,r){e.onsuccess=function(){t(e.result||null)},e.onerror=function(){r(e.error)}},e.prototype.getItem=function(e){return D(this,void 0,void 0,(function(){var t,r,n,o=this;return x(this,(function(i){switch(i.label){case 0:return[4,this.getDbInfo()];case 1:return t=i.sent(),r=this.getObjectStore(t),n=r.get(e),[2,new Promise((function(e,t){o.attachHandler(n,e,t)}))]}}))}))},e.prototype.setItem=function(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i=this;return x(this,(function(a){switch(a.label){case 0:return[4,this.getDbInfo()];case 1:return r=a.sent(),n=this.getObjectStore(r,"readwrite"),o=n.put(t,e),[2,new Promise((function(e,t){i.attachHandler(o,e,t)}))]}}))}))},e.prototype.removeItem=function(e){return D(this,void 0,void 0,(function(){var t,r,n,o=this;return x(this,(function(i){switch(i.label){case 0:return[4,this.getDbInfo()];case 1:return t=i.sent(),r=this.getObjectStore(t,"readwrite"),n=r.delete(e),[2,new Promise((function(e,t){o.attachHandler(n,e,t)}))]}}))}))},e.prototype.getDbInfo=function(){return this.ready?this.ready:Promise.reject("forget init")},e}();function j(e){return!e.startsWith("//")&&(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))}function k(){if(!R())return null;try{var e=new F({name:V.DATABASE_NAME,storeName:V.STORE_NAME});return{setItem:function(t,r){return e.setItem(t,r)},getItem:function(t){return e.getItem(t)},removeItem:function(t){return e.removeItem(t)}}}catch(e){return console.error("new IndexedDBStorage error: ".concat(e.message)),null}}function G(){var e,t={getItem:function(){},setItem:function(){},removeItem:function(){}};try{return(null===(e=(0,a.getGlobalThis)())||void 0===e?void 0:e.localStorage)||t}catch(e){return t}}function U(e){return e||a.getPlatform()}function B(e,t){return"".concat(V.LS_CACHE_APP_PREFIX,".").concat(U(t),".").concat(e)}function K(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,s,u,c,l,p;return x(this,(function(f){switch(f.label){case 0:n=(r=t||{}).platform,o=r.cacheKey,i=r.storageType,s=void 0===i?"indexedDB":i,u=o||B(e,n),f.label=1;case 1:return f.trys.push([1,4,,5]),"indexedDB"!==s?[3,3]:(c=k())?[4,c.getItem(u)]:[3,3];case 2:return[2,f.sent()];case 3:return l=G().getItem(u),[2,a.commonUtil.safeParse(l||"",null)];case 4:return p=f.sent(),console.error(p),[2,null];case 5:return[2]}}))}))}function H(e,t,r){var n=B(e,r);return(null==t?void 0:t({appName:e,innerKey:n}))||n}function Y(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,a;return x(this,(function(s){switch(s.label){case 0:return r=t.getCacheKey,n=t.storageType,o=t.platform,i=H(e,r,o),[4,K(e,{platform:o,cacheKey:i,storageType:n})];case 1:return(a=s.sent())?[2,{appInfo:a.app,appVersion:a.version}]:[2,null]}}))}))}var W={GET_APP_AND_VER:"getSubAppAndItsVersion",GET_APP_AND_FULL_VER:"getSubAppAndItsFullVersion",BATCH_GET_APP_AND_VER:"batchGetSubAppAndItsVersion",BATCH_GET_APP_AND_FULL_VER:"batchGetSubAppAndItsFullVersion",GET_APP_VER:"getSubAppVersion",GET_APP_FULL_VER:"getSubAppFullVersion"},X="get",q="Jsonp";var J=Object.freeze({__proto__:null,getUserName:function(e){var t=e.userLsKey,r=G().getItem(t)||"";if(r)return r;try{var n={};(0,a.getGlobalThis)().document.cookie.split(";").forEach((function(e){var t=e.split("="),r=t[0],o=t[1];n[r]=o})),r=n[t]||"",(0,a.log)("[[ getUserName ]] result:",r)}catch(e){(0,a.log)("[[ getUserName ]] err:",e)}return r}}),z=a.commonUtil.isNull;function Q(e,t,r){var n=(0,a.getPlatformConfig)(e),o=n.origin,i=n[t],s=o[t];return r||i||s}function Z(e,t,r,n){var o=Q(e,t,n);return o?o(r):(J[t]||function(){return null})(r)}function $(e,t,r,n){var o=r||[],i=o[0],s=o[1];if(!z(i,n))return i;var u=(0,a.getPlatformConfig)(e),c=u.origin,l=u[t];if(!z(l,n))return l;var p=c[t];return z(p,n)?s:p}function ee(e,t){var r,n=(0,a.getPlatformConfig)(e.platform),o=e.hook||{},i=n.origin,s=n.hook;return o[t]||s[t]||(null===(r=i.hook)||void 0===r?void 0:r[t])}function te(e,t){var r,n,o,i="";if(t&&(i=(null===(r=t.getApiPrefix)||void 0===r?void 0:r.call(t))||t.apiPrefix),i)return i;var s=(0,a.getPlatformConfig)(e);if(i=(null===(n=s.getApiPrefix)||void 0===n?void 0:n.call(s))||s.apiPrefix)return i;var u=s.origin;return i=(null===(o=u.getApiPrefix)||void 0===o?void 0:o.call(u))||u.apiPrefix}var re={now:function(){return(new Date).getTime()},rand:function(){return Math.random().toString().substring(6)},removeElem:function(e){var t=e.parentNode;t&&11!==t.nodeType&&t.removeChild(e)},parseData:function(e){var t="";if("string"==typeof e)t=e;else if("object"===C(e))for(var r in e)t+="".concat(t,"&").concat(r,"=").concat(encodeURIComponent(e[r]));return t=(t+="&_t=".concat(re.now())).substring(1)},getJSON:function(e,t){return new Promise((function(r,n){var o="",i=e;i=i+(-1===i.indexOf("?")?"?":"&")+re.parseData(t);var s=/callback=(\w+)/.exec(i);o=(null==s?void 0:s[1])?s[1]:"helJsonp_".concat(re.now(),"_").concat(re.rand()),i=i.includes("?")?"".concat(i,"&callback=").concat(o):"".concat(i,"?callback=").concat(o);var u=(0,a.getGlobalThis)(),c=u.document,l=c.createElement("script");l.type="text/javascript",l.src=i,l.id=o,l.onerror=n,l.addEventListener("error",n),u[o]=function(e){delete u[o];var t=c.getElementById(o);return t&&re.removeElem(t),r(e)};var p=c.getElementsByTagName("head");(null==p?void 0:p[0])&&p[0].appendChild(l)}))}},ne=re.getJSON;function oe(e,t){return D(this,void 0,Promise,(function(){var r,n,o;return x(this,(function(i){switch(i.label){case 0:return n=(r=t||{}).method,o=w(r,["method"]),[4,new ie(o).request(e,n)];case 1:return[2,i.sent()]}}))}))}var ie=function(){function e(e){this.req=null,this.resultPromise=Promise.resolve(null),this.init(e||{})}return e.prototype.init=function(e){var t="XMLHttpRequest"in(0,a.getGlobalThis)()?new XMLHttpRequest:null;if(!t)throw new Error("current browser is not support XMLHttpRequest!");this.req=t;var r=e.responseType,n=e.timeout,o=void 0===n?1e4:n,i=e.withCredentials,s=e.headers;t.responseType=r||"json",t.timeout=o,t.withCredentials=!!i,s&&Object.keys(s).forEach((function(e){t.setRequestHeader(e,s[e])}));var u=null,c=null;this.resultPromise=new Promise((function(e,t){u=e,c=t}));var l=function(e){var r=t.status,n=t.statusText,o=t.responseURL;c({msg:e,status:r,statusText:n,url:o})};t.onload=function(){return e=t.response,r=t.status,n=t.statusText,o=t.responseURL,void u({data:e,status:r,statusText:n,url:o});var e,r,n,o},t.onerror=function(e){return l(e)},t.onabort=function(e){return l(e)},t.ontimeout=function(e){return l(e)},t.onprogress=function(){}},e.prototype.request=function(e,t){return D(this,void 0,Promise,(function(){return x(this,(function(r){switch(r.label){case 0:if(!this.req)throw new Error("forget init");return this.req.open(t?t.toUpperCase():"GET",e),this.req.send(),[4,this.resultPromise];case 1:return[2,r.sent()]}}))}))},e}(),ae=0;function se(e,t){var r="";return(0,a.allowLog)()&&(t&&(r="_".concat(ae+=1)),console.time("".concat(e).concat(r))),r}function ue(e,t){(0,a.allowLog)()&&console.timeEnd("".concat(e).concat(t||""))}function ce(e,t){return D(this,void 0,void 0,(function(){var r,n,o;return x(this,(function(i){switch(i.label){case 0:return"try_detect_latest_ver",[4,fe("".concat(t,"/").concat(e,"@latest/").concat("try_detect_latest_ver","_").concat(Date.now()))];case 1:return r=i.sent().url,n=r.split("@"),o=n[n.length-1],[2,o.split("/")[0]]}}))}))}function le(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,s;return x(this,(function(u){switch(u.label){case 0:return[4,(0,a.getGlobalThis)().fetch(e)];case 1:return r=u.sent(),n=r.status,o=r.url,[200,304].includes(n)?t?[4,r.json()]:[3,3]:[2,{url:o,reply:null,status:n}];case 2:return i=u.sent(),[2,{url:o,reply:i,status:n}];case 3:return[4,r.text()];case 4:return s=u.sent(),[2,{url:o,reply:s,status:n}]}}))}))}function pe(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,a;return x(this,(function(s){switch(s.label){case 0:return[4,oe(e,{method:"GET",responseType:t?"json":"text"})];case 1:return r=s.sent(),n=r.status,o=r.data,i=r.url,a=void 0===i?"":i,400===n?[2,{url:a,reply:null,status:n}]:[2,{url:a,reply:o,status:n}]}}))}))}function fe(e,t){return void 0===t&&(t=!0),D(this,void 0,void 0,(function(){var r;return x(this,(function(n){switch(n.label){case 0:return r=pe,(0,a.getGlobalThis)().fetch&&(r=le),[4,r(e,t)];case 1:return[2,n.sent()]}}))}))}function de(e){var t=e.extraCssList,r=void 0===t?[]:t,n=e.custom;if(n){var o=n.extraCssList,i=void 0===o?[]:o,s=n.enable;if(void 0===s||s)return a.commonUtil.merge2List(r,i)}return r.slice()}var ve=a.commonUtil.safeParse,me={handleSemverRet:function(e,t){var r=(e||{}).version,n=e;return t.onlyVersion&&(n=r),!t.isFullVersion&&r&&Reflect.deleteProperty(r,"html_content"),r?{data:n,code:"0",msg:""}:{data:null,code:"404",msg:"no version found"}},appendSearchKV:function(e,t,r){var n=e;return r&&(n+="&".concat(t,"=").concat(r)),n},appendSuffix:function(e,t){var r=e;return t&&(r+=t),r}};function he(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,a,s,u;return x(this,(function(c){switch(c.label){case 0:r=null,n=t.semverApi,i=(o=void 0===n||n)?X:t.apiMode,se(a="request ".concat(e)),c.label=1;case 1:return c.trys.push([1,6,,7]),i!==X?[3,3]:[4,fe(e)];case 2:return s=c.sent(),r=s.reply,[3,5];case 3:return[4,ne(e)];case 4:r=c.sent(),c.label=5;case 5:return ue(a),o?[2,me.handleSemverRet(r,t)]:[2,r];case 6:return u=c.sent(),ue(a),[2,{data:null,code:"404",msg:u.message}];case 7:return[2]}}))}))}function ge(e){var t=O({},e);return t.additional_scripts=ve(t.additional_scripts,[]),t.additional_body_scripts=ve(t.additional_body_scripts,[]),t}function be(e){var t=O({},e);return t.src_map=ve(t.src_map,{htmlIndexSrc:"",webDirPath:"",headAssetList:[],bodyAssetList:[],chunkJsSrcList:[],chunkCssSrcList:[],staticJsSrcList:[],staticCssSrcList:[],relativeJsSrcList:[],relativeCssSrcList:[],otherSrcList:[]}),t}function ye(e,t,r,n){return void 0===n&&(n=!1),D(this,void 0,void 0,(function(){var o;return x(this,(function(i){switch(i.label){case 0:return(o=r)?[3,3]:n?(o="latest",[3,3]):[3,1];case 1:return[4,ce(t,e)];case 2:o=i.sent(),i.label=3;case 3:return[2,"".concat(e,"/").concat(t,"@").concat(o,"/hel_dist/hel-meta.json?_t=").concat(Date.now())]}}))}))}function _e(e,t){var r=t.versionId,n=t.projectId,o=t.branchId,i=t.apiMode,s=t.isFullVersion,u=void 0!==s&&s,c=t.versionIdList,l=void 0===c?[]:c,p=t.projectIdList,f=void 0===p?[]:p,d=t.branchIdList,v=void 0===d?[]:d,m=t.loadOptions,h=void 0===m?{}:m,g=U(t.platform),b=e,y=b,_=r,A=n,S=o,E=!1;Array.isArray(e)&&(b=e[0],y=e.join(","),_=l.join(","),A=f.join(","),S=v.join(","),E=!0);var L=function(e,t){return $(g,e,[h[e],t])},I=function(e,t){return Z(g,e,t,h[e])},T=L("userLsKey",a.helConsts.DEFAULT_USER_LS_KEY),C=I("getUserName",{platform:g,appName:b,userLsKey:T}),P=I("shouldUseGray",{appName:b}),N=L("apiSuffix"),O=L("apiPathOfApp",a.helConsts.DEFAULT_API_URL),w=te(g,h),D="";"boolean"==typeof P&&(D=P?"1":"0");var x=i===X?"":q,V="";V=E?u?W.BATCH_GET_APP_AND_FULL_VER:W.BATCH_GET_APP_AND_VER:u?W.GET_APP_AND_FULL_VER:W.GET_APP_AND_VER;var M="".concat(V).concat(x),R="";return R="".concat(w).concat(O,"/").concat(M,"?name=").concat(y),R=me.appendSearchKV(R,"userName",C),R=me.appendSearchKV(R,"version",_),R=me.appendSearchKV(R,"projId",A),R=me.appendSearchKV(R,"branch",S),R=me.appendSearchKV(R,"gray",D),{url:R=me.appendSuffix(R,N),userName:C}}function Ae(e,t){return D(this,void 0,void 0,(function(){var r,n,o;return x(this,(function(i){switch(i.label){case 0:return r=t.versionId,n=t.platform,o=t.loadOptions,[4,ye(te(n,o),e,r||"",null==o?void 0:o.skip404Sniff)];case 1:return[2,i.sent()]}}))}))}function Se(e,t){var r;return D(this,void 0,void 0,(function(){var n,o,i,a;return x(this,(function(s){switch(s.label){case 0:return n=t.loadOptions,o="",i="",null===(r=null==n?void 0:n.semverApi)||void 0===r||r?[4,Ae(e,t)]:[3,2];case 1:return i=s.sent(),[3,3];case 2:a=_e(e,t),i=a.url,o=a.userName,s.label=3;case 3:return[2,{url:i,userName:o}]}}))}))}function Ee(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,s,u,c,l,p,f,d,v,m,h,g,b,y,_,A;return x(this,(function(S){switch(S.label){case 0:return r=t.apiMode,n=t.appName,o=t.isFullVersion,i=void 0!==o&&o,s=t.semverApi,u=void 0===s||s,c=t.apiPrefix,l=void 0===c?"":c,p=t.getUrl,f=U(t.platform),d=l||$(f,"apiPrefix"),v=$(f,"apiSuffix"),m=$(f,"apiPathOfApp"),h=$(f,"apiPathOfAppVersion"),g="",u?[4,ye(d,n,e)]:[3,2];case 1:return g=S.sent(),[3,3];case 2:b=r===X?"":q,y=i?W.GET_APP_FULL_VER:W.GET_APP_VER,_="".concat(y).concat(b),A=h||m||a.helConsts.DEFAULT_API_URL,g="".concat(d).concat(A,"/").concat(_,"?ver=").concat(e),g=me.appendSearchKV(g,"name",n),g=me.appendSuffix(g,v),S.label=3;case 3:return[2,g=(null==p?void 0:p(g))||g]}}))}))}function Le(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,s,u,c,l,p,f,d,v,m,h=this;return x(this,(function(g){switch(g.label){case 0:return r=t.versionId,n=t.platform,o=t.apiMode,i=t.loadOptions,u=Q(n,"getSubAppAndItsVersionFn",(s=void 0===i?{}:i).getSubAppAndItsVersionFn),[4,Se(e,t)];case 1:return c=g.sent(),l=c.url,p=c.userName,f=function(e,t){return D(h,void 0,void 0,(function(){var r,n;return x(this,(function(i){switch(i.label){case 0:return[4,he(r=e||l,{apiMode:t||o,semverApi:s.semverApi})];case 1:if(n=i.sent(),0!==parseInt(n.code,10)||!n)throw new Error((null==n?void 0:n.msg)||"getSubAppAndItsVersion err");return[2,{app:ge(n.data.app),version:be(n.data.version),metaUrl:r}]}}))}))},u?(d=Z(n,"shouldUseGray",{appName:e},s.shouldUseGray),v={platform:n,appName:e,userName:p,versionId:r,url:l,needGrayVer:d,innerRequest:f},(0,a.log)("[[ getSubAppAndItsVersion ]] fnParams:",v),[4,Promise.resolve(u(v))]):[3,3];case 2:return[2,{app:ge((m=g.sent()).app),version:be(m.version)}];case 3:return[4,f()];case 4:return[2,g.sent()]}}))}))}function Ie(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,a,s,u,c;return x(this,(function(l){switch(l.label){case 0:return r=t.apiMode,n=t.isFullVersion,o=void 0!==n&&n,i=t.semverApi,[4,Ee(e,t)];case 1:return[4,he(l.sent(),{apiMode:r,isFullVersion:o,semverApi:i,onlyVersion:!0})];case 2:if(a=l.sent(),s=a.data,u=a.code,c=a.msg,0!==parseInt(u,10)||!s)throw new Error(c||"ver not found");return[2,be(s)]}}))}))}function Te(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,a,s,u,c,l=this;return x(this,(function(p){switch(p.label){case 0:return e.length?(r=t.apiMode,n=t.batchGetFn,o=t.semverApi,i=U(t.platform),[4,_e(e,t)]):[2,[]];case 1:return a=p.sent().url,s=function(){return D(l,void 0,void 0,(function(){var e,t,n,i;return x(this,(function(s){switch(s.label){case 0:return[4,he(a,{apiMode:r,semverApi:o})];case 1:if(e=s.sent(),t=e.data,n=e.code,i=e.msg,0!==parseInt(n,10)||!t)throw new Error(i||"batch get failed");return[2,t.map((function(e){return{app:ge(e.app),version:be(e.version)}}))]}}))}))},u=[],n?(c={url:a,platform:i,innerRequest:s},[4,Promise.resolve(n(c))]):[3,3];case 2:return u=p.sent(),[3,5];case 3:return[4,s()];case 4:u=p.sent(),p.label=5;case 5:return[2,u]}}))}))}var Ce=a.commonUtil.noop,Pe=a.commonUtil.okeys,Ne=Object.assign;function Oe(e){var t;try{return!!(null===(t=(0,a.getGlobalThis)())||void 0===t?void 0:t.document).querySelector(e)}catch(e){return!1}}function we(e,t){var r=e["data-helex"],n=e["data-helappend"],o=(0,a.getGlobalThis)();return"0"!==n&&(!r||("script"!==t||!o[r])&&!Oe("".concat(t,'[data-helex="').concat(r,'"]')))}function De(e,t,r){var n=(0,a.getGlobalThis)().document;Pe(t).forEach((function(r){return e.setAttribute(r,t[r])})),r?n.body.appendChild(e):n.head.appendChild(e)}function xe(e){var t=e.attrs,r=e.innerText,n=e.appendToBody,o=void 0===n||n,i=e.onloadCb,s=t.src,u=w(t,["src"]);if(!s&&!r)return!1;var c=(0,a.getGlobalThis)().document;if(s&&Oe('script[src="'.concat(s,'"]')))return!1;if(!we(u,"script"))return!1;var l=c.createElement("script");return s&&l.setAttribute("src",s),Pe(u).forEach((function(e){return l.setAttribute(e,u[e])})),i&&(l.onload=i),r&&(l.innerText=r),De(l,u,o),!0}function Ve(e){var t=e.appendToBody,r=void 0!==t&&t,n=e.innerText,o=e.attrs,i=o.href,s=o.rel,u=w(o,["href","rel"]),c=(0,a.getGlobalThis)().document;if(i||n){if(!we(u,"link"))return!1;var l=c.createElement("link");i?(l.setAttribute("href",i),l.setAttribute("rel",s||"stylesheet")):s&&l.setAttribute("rel",s),n&&(l.innerText=n),De(l,u,r)}}function Me(e,t){var r=t.appendToBody,n=t.appendCss,o=t.webDirPath,i=t.cssAppendTypes,s=t.excludeCssList;e.forEach((function(e){var t=e.tag,u=e.attrs,c=e.append,l=void 0===c||c,p=e.innerText,f=void 0===p?"":p;if(l){if(function(e,t){return Ce(t),["link","staticLink","relativeLink"].includes(e)}(t,u)){var d={appendToBody:r,attrs:u,innerText:f},v=u.href;if(v.endsWith(".ico")&&!0!==e.append)return;return v.endsWith(".css")?void(n&&i.includes(function(e,t){return t.startsWith(e)?"build":j(t)?"relative":"static"}(o,v))&&!s.includes(v)&&Ve(d)):void Ve(d)}(function(e,t){return Ce(t),["script","staticScript","relativeScript"].includes(e)})(t,u)&&xe({appendToBody:r,attrs:u,innerText:f}),"style"===t&&function(e){var t=e.appendToBody,r=void 0!==t&&t,n=e.innerText,o=void 0===n?"":n,i=e.attrs,s=(0,a.getGlobalThis)().document.createElement("style");s.innerText=o,De(s,i,r)}({appendToBody:r,attrs:u,innerText:f})}}))}function Re(e,t,r){(0,a.getGlobalThis)().__HEL_LOAD_ASSETS_FLAG__=1;var n=e.additional_scripts,o=void 0===n?[]:n,i=e.additional_body_scripts,s=void 0===i?[]:i,u=t.src_map,c=u.headAssetList,l=void 0===c?[]:c,p=u.bodyAssetList,f=void 0===p?[]:p,d=u.webDirPath,v=u.chunkCssSrcList,m=void 0===v?[]:v,h=r.useAdditionalScript,g=void 0!==h&&h,b=r.appendCss,y=void 0===b||b,_=r.cssAppendTypes,A=void 0===_?["build","static","relative"]:_,S=r.getExcludeCssList,E=de(r),L=a.commonUtil.merge2List(E,m),I=(null==S?void 0:S(L,{version:t}))||[],T=function(e,t){if(e)for(var r=0,n=e;r<n.length;r++){var o=n[r];o.endsWith(".css")?y&&!I.includes(o)&&Ve({appendToBody:t,attrs:{href:o}}):xe({appendToBody:t,attrs:{src:o}})}};g&&(T(o,!1),T(s,!0)),T(E,!1);var C={excludeCssList:I,webDirPath:d,appendCss:y,cssAppendTypes:A};Me(l,Ne(C,{appendToBody:!1})),Me(f,Ne(C,{appendToBody:!0}))}var Fe={SHADOW:!0,SET_STYLE_AS_STRING:!0,ENABLE_DISK_CACHE:!1,ENABLE_DISK_CACHE_FOR_ERR:!0,ENABLE_SYNC_META:!0,STORAGE_TYPE:"localStorage",ENABLE_APPEND_CSS:!0,API_MODE:"get",EXTRA_DATA_PREFIX:"HelExtraData"},je="[[ isEmitVerMatchInputVer ]]";function ke(e,t){var r,n=t.branchId,o=t.platform,i=t.emitVer,s=t.inputVer,u=t.projectId,c=$(o,"strictMatchVer",[t.strictMatchVer]),l=(0,a.getAppMeta)(e,o);if(!1===c)return(0,a.log)("".concat(je," set strictMatchVer false for app (").concat(e,"), trust emitVer (").concat(i,") is the target version")),!0;if(!i)return(0,a.log)("".concat(je," emitVer should not be null")),!0;if(!s&&l){if(n)return(0,a.log)("".concat(je," found branchId ").concat(n)),!0;var p=l.online_version,f=l.build_version;if(u){var d=((null===(r=l.proj_ver)||void 0===r?void 0:r.map)||{})[u];if(d)return i===d.b||i===f||i===d.o}return i===p||i===f}return i===s}var Ge=a.helConsts.DEFAULT_ONLINE_VER,Ue="http://localhost",Be="http://127.0.0.1",Ke=["script","link","style"];var He={isSrcMatchHost:function(e,t){return t.startsWith(Ue)||t.startsWith(Be)?e.startsWith(Ue)||e.startsWith(Be):e.startsWith(t)},parseHtml:function(e){if((0,a.getGlobalThis)().DOMParser)return function(e){var t=(new(0,(0,a.getGlobalThis)().DOMParser)).parseFromString(e,"text/html"),r=[],n=function(e,t,n){e.querySelectorAll(n).forEach((function(e){var o=e.getAttributeNames(),i={};o.forEach((function(t){var r=e.getAttribute(t);null!==r&&(i[t]=r)})),r.push({head:t,tag:n,attrs:i,innerText:e.innerText})}))};return Ke.forEach((function(e){return n(t.head,!0,e)})),Ke.forEach((function(e){return n(t.body,!1,e)})),r}(e);var t=!0,r=[],n=function(e){return Ke.includes(e)};return T(e,{onTagOpen:function(e){n(e)&&r.push({tag:e,attrs:{},innerText:"",head:t})},onTagClose:function(e,o){if("head"===e&&(t=!1),n(e)){var i=r[r.length-1];if(i){var a=o.children[0]||"";"string"==typeof a&&(i.innerText=a),i.attrs=o.attrs}}}}),r},convertToAssetList:function(e,t){var r=[],n=[],o=[],i=[],a=[],s=[];return e.forEach((function(e){var u=e.head,c=e.attrs,l=e.innerText,p=e.tag,f=u?r:n,d=c.src,v=c.href,m=c["data-helex"],h=c.rel,g=function(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]||r}(c,"data-helappend","1");if("style"===p)f.push({tag:p,attrs:c,innerText:l,append:!0});else{var b=d||v||"",y=b.endsWith(".css"),_="link"===p;if(!b)return;var A=!0,S=He.isSrcMatchHost(b,t);"icon"!==h&&(S||"1"===g||m)||(A=!1);var E=p;S||(j(b)?(E=_?"relativeLink":"relativeScript",y?a.push(b):s.push(b)):(E=_?"staticLink":"staticScript",y?o.push(b):i.push(b)));var L={tag:E,attrs:c,innerText:l,append:A};f.push(L)}})),{headAssetList:r,bodyAssetList:n,staticCssSrcList:o,staticJsSrcList:i,relativeCssSrcList:a,relativeJsSrcList:s}},getChunkList:function(e){var t=[],r=[];return e.forEach((function(e){var n=e.attrs,o=n.href,i=n.src,a=o||i||"";a&&(a.endsWith(".css")?t.push(a):r.push(a))})),{chunkCssSrcList:t,chunkJsSrcList:r}},extactHelMeta:function(e){var t=e.code,r=e.data,n=e.msg;if(t&&r){if("0"!==t)throw new Error(n||"server error occurred");return r}return e},getHelMeta:function(e,t,r){return D(this,void 0,void 0,(function(){var n,o,i,s;return x(this,(function(u){switch(u.label){case 0:n=function(r){return void 0===r&&(r=""),"fetch ".concat(e," helmeta by url ").concat(t," failed in custom mode! ").concat(r)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fe(t)];case 2:if(o=u.sent().reply,(i=He.extactHelMeta(o))&&i.app&&i.version)return i.app.__fromCust=!0,[2,i];if(r)throw new Error(n());return(0,a.log)("[[ getCustomMeta ]] 404 is a expected behavior for custom mode, user can ignore it"),[2,null];case 3:if(s=u.sent(),r)throw new Error(n(s.messgae));return a.commonUtil.noop("json parse fail or other error"),[3,4];case 4:return[2]}}))}))}};function Ye(e){if(e){var t=e.enable,r=void 0===t||t;return!(!e.host||!r)}return!1}function We(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,a,s,u,c,l,p,f,d,v,m,h,g,b,y,_,A,S;return x(this,(function(E){switch(E.label){case 0:return r=t.host,n=t.appGroupName,o=t.skipFetchHelMeta,i=void 0!==o&&o,a=t.isApiUrl,s=t.parseHtml,u=t.attachHostSuffix,c=void 0===u||u,l=Date.now(),a?[4,He.getHelMeta(e,r,!0)]:[3,2];case 1:return[2,f=E.sent()];case 2:return i?[3,4]:(p=r.endsWith("hel-meta.json")?r:"".concat(r,"/hel-meta.json?_t=").concat(l),[4,He.getHelMeta(e,p)]);case 3:if(f=E.sent())return[2,f];E.label=4;case 4:d="",E.label=5;case 5:return E.trys.push([5,7,,8]),[4,fe(c?"".concat(r,"/index.html?_t=").concat(l):r,!1)];case 6:if(v=E.sent(),d=v.reply||"",![200,304].includes(v.status))throw new Error("status ".concat(v.status));return[3,8];case 7:throw m=E.sent(),new Error("".concat(m.message," from ").concat(r));case 8:return h=s||He.parseHtml,g=h(d),b=He.convertToAssetList(g,r),y=b.headAssetList,_=b.bodyAssetList,A=w(b,["headAssetList","bodyAssetList"]),S=He.getChunkList(y.concat(_)),[2,{app:{__fromCust:!0,name:e,app_group_name:n||e,online_version:Ge,build_version:Ge},version:{sub_app_name:e,sub_app_version:Ge,src_map:O(O({webDirPath:r,headAssetList:y,bodyAssetList:_},S),A)}}]}}))}))}var Xe=a.commonUtil,qe=a.helConsts,Je=a.log,ze=qe.KEY_ASSET_CTX,Qe={recordAssetCtx:function(e,t,r){var n=e.name,o=e.app_group_name,i=t.src_map,s=t.sub_app_version,u=i.chunkCssSrcList,c=void 0===u?[]:u,l=i.chunkJsSrcList,p=void 0===l?[]:l,f=ee(r,"beforeAppendAssetNode"),d=c.concat(p),v=r.platform;d.forEach((function(e){var t=a.getCommonData(ze,e)||{};t.marked||(Object.assign(t,{marked:!0,platform:v,groupName:o,name:n,ver:s,beforeAppend:f}),a.setCommonData(ze,e,t))}))},tryTriggerOnFetchMetaSuccess:function(e,t,r){var n=r.loadOptions,o=r.fromFallback,i=ee(n,"onFetchMetaSuccess");null==i||i({app:e,version:t,fromFallback:o})}};function Ze(e){var t=Q(e.platform,"onFetchMetaFailed",e.onFetchMetaFailed);return ee(e,"onFetchMetaFailed")||t}function $e(e,t){var r=U(e),n=function(e,t){var r=a.getPlatformConfig(e).apiMode;return t||r}(r,t);return{platform:r,apiMode:n}}function et(e,t,r){return D(this,void 0,void 0,(function(){var n,o;return x(this,(function(i){switch(i.label){case 0:return n=k(),o=H(e,t,r),n?[4,n.removeItem(o)]:[3,2];case 1:i.sent(),i.label=2;case 2:return G().removeItem(o),[2]}}))}))}function tt(e,t,r){return D(this,void 0,void 0,(function(){var n,o,i,s,u,c,l,p,f,d,v,m,h,g,b,y,_,A,S,E,L,I,T,C,P,N,O,w,V,M=this;return x(this,(function(R){switch(R.label){case 0:return n=t.enableDiskCache,o=void 0===n?Fe.ENABLE_DISK_CACHE:n,i=t.enableSyncMeta,s=void 0===i?Fe.ENABLE_SYNC_META:i,u=t.versionId,c=void 0===u?"":u,l=t.projectId,p=void 0===l?"":l,f=t.branchId,d=t.isFullVersion,v=void 0!==d&&d,m=t.custom,h=t.strictMatchVer,g=t.semverApi,b=(r||{}).callRemote,y=void 0===b||b,_=$e(t.platform,t.apiMode),A=_.platform,S=_.apiMode,Ye(m)?[4,We(e,m)]:[3,2];case 1:return E=R.sent(),L=E.app,I=E.version,ot(L,{appVersion:I,platform:A,toDisk:!1,loadOptions:t}),a.setAppPlatform(L.app_group_name,A),[2,{appInfo:L,appVersion:I}];case 2:return T=a.getAppMeta(e,A),C=a.getVersion(e,{platform:A,versionId:c}),!g&&!f&&T&&C&&ke(e,{platform:A,projectId:p,emitVer:C.sub_app_version,inputVer:c,strictMatchVer:h})?[2,{appInfo:T,appVersion:C}]:(P={platform:A,apiMode:S,versionId:c,projectId:p,branchId:f,isFullVersion:v,loadOptions:t},N=null,O=function(t){return D(M,void 0,void 0,(function(){return x(this,(function(r){switch(r.label){case 0:return t?[4,it(e,P)]:[3,2];case 1:return[2,r.sent()];case 2:return[2,null]}}))}))},o?[4,Y(e,t)]:[3,9]);case 3:return(N=R.sent())?[3,5]:(Je("[[ getAppFromRemoteOrLocal ]] get meta from disk but failed!"),[4,O(y)]);case 4:return N=R.sent(),[3,8];case 5:return w=N.appInfo,V=N.appVersion,Je("[[ getAppFromRemoteOrLocal ]] disk meta:",N),c&&V.sub_app_version!==c?[4,O(y)]:[3,7];case 6:return N=R.sent(),Je("[[ getAppFromRemoteOrLocal ]] remote meta:",N),[3,8];case 7:ot(w,{appVersion:V,platform:A,toDisk:!1,loadOptions:t}),O(s).catch((function(e){return Xe.noop(e)})),R.label=8;case 8:return[3,11];case 9:return[4,O(y)];case 10:N=R.sent(),R.label=11;case 11:return N&&a.setAppPlatform(N.appInfo.app_group_name,A),[2,N]}}))}))}function rt(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,a,s;return x(this,(function(u){switch(u.label){case 0:r=t.isFirstCall,n=void 0===r||r,o=t.enableDiskCacheForErr,i=void 0===o?Fe.ENABLE_DISK_CACHE_FOR_ERR:o,u.label=1;case 1:return u.trys.push([1,3,,6]),[4,tt(e,t)];case 2:return[2,{data:s=u.sent(),err:""}];case 3:if(a=u.sent(),n)throw a;return Ze(t)?[2,{data:null,err:a.message}]:(s=null,i?[4,Y(e,t)]:[3,5]);case 4:if(!(s=u.sent()))throw a;Xe.nbalert("\n        [Dev mode alert err only]: ".concat(a.message,", hel-micro will try use cached data to keep your app works well,\n        please check your network if this behavior is not as you expected! you can also set enableDiskCacheForErr = false\n        to skip reusing cached data.\n      ")),u.label=5;case 5:return[2,{data:s,err:a}];case 6:return[2]}}))}))}function nt(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,a,s,u;return x(this,(function(c){switch(c.label){case 0:return r=$e(t.platform,t.apiMode),n=r.platform,o=r.apiMode,i=O(O({},t),{platform:n,apiMode:o}),[4,Le(e,i)];case 1:if(a=c.sent(),s=a.app,u=a.version,Je("[[ getAppAndVersion ]] result:",{app:s,version:u}),!u)throw new Error("no version found or builded");return[2,{appInfo:s,appVersion:u}]}}))}))}function ot(e,t){var r=t.appVersion,n=t.platform,o=t.toDisk,i=void 0===o||o,s=t.loadOptions;if(e&&r){var u=e,c=u.name;if(i){var l=H(c,s.getCacheKey),p=function(){try{G().setItem(l,JSON.stringify({appInfo:e,appVersion:r}))}catch(e){a.log("save localStorage failed: ".concat(e.message))}};if("indexedDB"===s.storageType){var f=k();f?f.setItem(l,{appInfo:e,appVersion:r}).catch((function(e){a.log("save indexeddb failed, use localStorage instead, err: ".concat(e.message)),p()})):p()}else p()}if(s.semverApi){var d=a.getAppMeta(c,n);!0!==(null==d?void 0:d.__setByLatest)&&(u=s.versionId?u:O(O({},u),{__setByLatest:!0}),a.setAppMeta(u,n))}else a.setAppMeta(e,n);a.setVersion(c,r,{platform:n});var v=de(s);a.setVerExtraCssList(c,v,{platform:n,versionId:r.sub_app_version})}}function it(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,a;return x(this,(function(s){switch(s.label){case 0:return r=t.platform,n=t.loadOptions,[4,nt(e,t)];case 1:return o=s.sent(),i=o.appInfo,a=o.appVersion,ot(i,{appVersion:a,platform:r,loadOptions:n}),[2,o]}}))}))}function at(e,t){return void 0===t&&(t={}),D(this,void 0,Promise,(function(){var r,n,o,i,a,s,u,c,l,p,f,d,v,m,h,g,b,y;return x(this,(function(_){switch(_.label){case 0:r=t.isFirstCall,n=void 0===r||r,o=t.controlLoadAssets,i=void 0!==o&&o,a=t.platform,s=t.versionId,u=void 0===s?"":s,_.label=1;case 1:return _.trys.push([1,5,,8]),[4,rt(e,t)];case 2:return c=_.sent(),l=c.data,p=c.err,d=(f=l||{}).appInfo,v=f.appVersion,m=!1,!(!d||!v)||n?[3,4]:(h=Ze(t))?[4,Promise.resolve(h({platform:a,appName:e,versionId:u}))]:[3,4];case 3:(g=_.sent())&&(d=g.app,v=g.version,m=!0,ot(d,{appVersion:v,platform:U(a),toDisk:!1,loadOptions:t})),_.label=4;case 4:if(!d)throw new Error(p||"app[".concat(e,"] not exist"));if(!v)throw new Error(p||"app[".concat(e,"]'s version[").concat(u,"] not exist"));return Qe.tryTriggerOnFetchMetaSuccess(d,v,{loadOptions:t,fromFallback:m}),Qe.recordAssetCtx(d,v,t),b=function(){Re(d,v,t)},i?[2,b]:(b(),[2,null]);case 5:return y=_.sent(),n?(console.error("loadApp err and try one more time: ",y),[4,at(e,O(O({},t),{isFirstCall:!1}))]):[3,7];case 6:return[2,_.sent()];case 7:throw new Error("loadApp [".concat(e,"] err (").concat(y.message,"), recommend config onFetchMetaFailed hook"));case 8:return[2]}}))}))}var st=Object.freeze({__proto__:null,getSubAppVersion:function(e,t){return D(this,void 0,Promise,(function(){return x(this,(function(r){switch(r.label){case 0:return[4,Ie(e,t)];case 1:return[2,r.sent()]}}))}))},getSubAppMeta:function(e,t){return D(this,void 0,Promise,(function(){return x(this,(function(r){switch(r.label){case 0:return[4,Le(e,t||{})];case 1:return[2,r.sent()]}}))}))},getMetaDataUrl:function(e,t){var r=t||{},n=r.versionId,o=r.platform,i=r.apiMode,a=void 0===i?X:i,s=r.protocol,u=void 0===s?"http":s,c=r.projectId,l=r.branchId,p=r.semverApi,f=_e(e,{platform:o,versionId:n,branchId:l,apiMode:a,projectId:c,semverApi:void 0===p||p}).url;return"http"===u&&(f=f.replace("https:","http:")),f},clearDiskCachedApp:function(e,t,r){return D(this,void 0,void 0,(function(){var n;return x(this,(function(o){switch(o.label){case 0:return Array.isArray(e)?(n=[],e.forEach((function(e){return n.push(et(e,t,r))})),[4,Promise.all(n)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,et(e,t,r)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}});function ut(e,t){var r=a.getVersion(e,t);return(null==r?void 0:r.src_map.webDirPath)||""}function ct(e,t){var r=t||{},n=U(r.platform),o=r.versionId||"";if(!o){var i=a.getVersion(e,{platform:n});if(i)o=i.sub_app_version;else{var s=a.getAppMeta(e,n);o=(null==s?void 0:s.online_version)||(null==s?void 0:s.build_version)||""}}return{platform:n,versionId:o}}var lt=ut,pt=Object.freeze({__proto__:null,getPlatAndVer:ct,getGroupedStyleList:function(e,t){var r={static:[],build:[]},n=a.getVersion(e,t);if(n){var o=n.src_map,i=o.webDirPath;o.chunkCssSrcList.forEach((function(e){e.startsWith(i)?r.build.push(e):r.static.push(e)}))}return r},getWebDirPath:lt}),ft=a.helConsts.KEY_CSS_STR,dt=a.helLoadStatus,vt=dt.LOADED,mt=dt.LOADING,ht=dt.NOT_LOAD,gt=a.commonUtil.merge2List,bt=a.getHelEventBus(),yt=a.helEvents.STYLE_STR_FETCHED,_t={isStyleStatusMatch:function(e,t,r){var n=ct(e,r),o=n.platform,i=n.versionId;return a.getVerStyleStrStatus(e,{platform:o,versionId:i})===t},getSelfCssList:function(e,t){var r=ct(e,t),n=a.getVersion(e,r),o=a.getVerExtraCssList(e,r),i=[],s=[];if(n){var u=n.src_map||{},c=u.chunkCssSrcList,l=void 0===c?[]:c,p=u.headAssetList,f=void 0===p?[]:p,d=u.bodyAssetList,v=void 0===d?[]:d;i=l;var m=function(e){var t=[];return e.forEach((function(e){var r=e.append,n=void 0===r||r,o=e.attrs.href||"";o.endsWith(".css")&&n&&t.push(o)})),t},h=gt(m(f),m(v));s=gt(h,i)}return{buildCssList:i,initExtraCssList:o,appCssList:s=gt(s,o)}},fetchStyleStr:function(e){return D(this,void 0,void 0,(function(){var t,r,n,o,i,s,u;return x(this,(function(c){switch(c.label){case 0:t="",r=0,n=e.length,c.label=1;case 1:if(!(r<n))return[3,7];if(!(o=e[r]).endsWith(".css"))return[3,6];if(i=a.getCommonData(ft,o))return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,fe(o,!1)];case 3:return s=c.sent(),i=s.reply,a.setCommonData(ft,o,i),[3,5];case 4:return u=c.sent(),console.error(u),[3,5];case 5:t+=i,c.label=6;case 6:return r++,[3,1];case 7:return[2,t]}}))}))},waitStyleReady:function(e,t){return D(this,void 0,void 0,(function(){var r;return x(this,(function(n){switch(n.label){case 0:return r=null,[4,new Promise((function(n){r=function(r){var o=r.appName,i=r.platform,a=r.versionId,s=t.branchId,u=t.versionId,c=t.platform,l=t.strictMatchVer;o===e&&i===c&&ke(e,{branchId:s,platform:c,emitVer:a,inputVer:u,strictMatchVer:l})&&n(!0)},bt.on(yt,r)}))];case 1:return n.sent(),r&&bt.off(yt,r),[2]}}))}))},computeStyleData:function(e,t){var r=ct(e,t),n=_t.getSelfCssList(e,t),o=n.appCssList,i=n.buildCssList,s=n.initExtraCssList,u=t.extraCssList,c=void 0===u?[]:u,l=t.getExcludeCssList,p=gt(o,c),f=(null==l?void 0:l(p,{version:a.getVersion(e,r)}))||[],d=!f.length&&!c.length,v=p;return f.length&&(v=p.filter((function(e){return!f.includes(e)}))),{validCssList:v,onlyUseAppCssList:d,buildCssList:i,initExtraCssList:s,appCssList:o}},fetchStyleData:function(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,s,u,c,l,p,f,d,v,m,h,g,b,y,_;return x(this,(function(A){switch(A.label){case 0:return r=ct(e,t),n=t.extraStyleStr,o=void 0===n?"":n,i=t.cssListToStr,s=t.extraCssList,u=void 0===s?[]:s,c=t.strictMatchVer,l=t.branchId,p=_t.computeStyleData(e,t),f=p.validCssList,d=p.onlyUseAppCssList,v=p.buildCssList,m=p.initExtraCssList,h=p.appCssList,g={validCssList:f,buildCssList:v,initExtraCssList:m,appCssList:h,extraCssList:u,extraStyleStr:o,renderStyleStr:""},i?d?(b=a.getVerStyleStrStatus(e,r),y="",b!==mt?[3,2]:[4,_t.waitStyleReady(e,O(O({},r),{strictMatchVer:c,branchId:l}))]):[3,6]:[2,g];case 1:return A.sent(),y=a.getAppStyleStr(e,r)||"",[3,5];case 2:return b!==ht?[3,4]:(a.setVerStyleStrStatus(e,mt,r),[4,_t.fetchStyleStr(h)]);case 3:return y=A.sent(),a.setAppStyleStr(e,y,r),a.setVerStyleStrStatus(e,vt,r),bt.emit(yt,O({appName:e},r)),[3,5];case 4:y=a.getAppStyleStr(e,r)||"",A.label=5;case 5:return g.renderStyleStr="".concat(y).concat(o),[3,8];case 6:return[4,_t.fetchStyleStr(f)];case 7:_=A.sent(),g.renderStyleStr="".concat(_).concat(o),A.label=8;case 8:return[2,g]}}))}))}};function At(e,t){var r=(t||{}).custom||{},n="",o=r.host,i=r.enable;if(o&&(void 0===i||i))if(o.endsWith(".json")||o.endsWith(".html")){var a=o.split("/"),s=a.length;a.splice(s-1,s),n=a.join("/")}else n=o;else n=ut(e,t);return n}var St=Object.freeze({__proto__:null,fetchAppStyleData:function(e,t){return D(this,void 0,Promise,(function(){return x(this,(function(r){switch(r.label){case 0:return[4,_t.fetchStyleData(e,t||{})];case 1:return[2,r.sent()]}}))}))},getAppStyleStr:function(e,t){var r=ct(e,t);return a.getAppStyleStr(e,r)},getAppCssList:function(e,t){return _t.getSelfCssList(e,t||{})},fetchStyleByUrlList:function(e){return D(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return[4,_t.fetchStyleStr(e)];case 1:return[2,t.sent()]}}))}))},isStyleFetched:function(e,t){return _t.isStyleStatusMatch(e,vt,t||{})},disableStyleTags:function(e){var t=a.getGlobalThis();t.document&&t.document.querySelectorAll('style[data-gname="'.concat(e,'"]')).forEach(a.commonUtil.disableNode)},getStyleTagText:function(e){return a.commonDataUtil.getStyleTagText(e)},getIgnoredCssUrlList:function(e,t){var r=At(e,t);return a.commonDataUtil.getIgnoreCssPrefixCssUrlList(r)||[]},getSuitableCssPrefix:At});function Et(e,t,r){var n=r.platform;if(!(0,a.getAppMeta)(t,n)){var o=(0,a.getAppMeta)(e,n),i=(0,a.getVersion)(e,r);if(o&&i){(0,a.setAppMeta)(O(O({},o),{name:t,__addedByTrust:!0}),n),(0,a.setVersion)(t,O(O({},i),{sub_app_name:t,__addedByTrust:!0}),{platform:n});var s=(0,a.getVerExtraCssList)(e,r);(0,a.setVerExtraCssList)(t,s,r)}}}function Lt(e,t){var r=t.versionId,n=void 0===r?"":r,o=t.isLib,i=U(t.platform),s=$(i,"strictMatchVer",[t.strictMatchVer]),u=O(O({},t),{strictMatchVer:s}),c=e,l=t.custom;Ye(l)&&(c=l.appGroupName||e);var p=(0,a.getAppMeta)(c,i);if(t.semverApi&&!n&&p&&!0!==p.__setByLatest)return null;if(o){var f=(0,a.getVerLib)(c,u),d={appName:c,appGroupName:(null==p?void 0:p.app_group_name)||"",platform:i,appProperties:f,isLib:!0,versionId:n,Comp:null,lifecycle:void 0};return f?d:null}return(0,a.getVerApp)(c,u)||null}function It(e,t,r){var n="[[ judgeAppReady ]]",o=t.versionId,i=void 0===o?"":o,s=t.projectId,u=t.appName,c=t.platform,l=t.next,p=t.error,f=t.isLib,d=t.strictMatchVer;(0,a.log)("".concat(n," receive emit app and judge (emitAppInfo, judgeOptions):"),e,{inputVer:i,projectId:s,appName:u,platform:c,isLib:f,strictMatchVer:d});var v=U(c),m=e.appName,h=e.appGroupName,g=e.platform,b=void 0===g?v:g,y=e.versionId,_="".concat(c,"/").concat(u,"/").concat(i),A=(0,a.getAppMeta)(u,c),S=r.branchId,E=r.custom,L=r.trust,I=function(e){try{var t=f?function(e,t,r){var n=r.platform,o=r.emitPlatform,i=r.versionId,s=r.emitVer;if(!(0,a.getVerLib)(e,r)){Et(e,t,r);var u=(0,a.getVerLib)(t,{platform:n,versionId:i});if(!u&&o&&(u=(0,a.getVerLib)(t,{platform:o,versionId:s,strictMatchVer:!1})),!u)throw new Error("seems plat ".concat(o," emit null lib for ").concat(t));return(0,a.libReady)(t,u,{platform:n,appName:e,versionId:i}),!1}return!0}(u,h,e):function(e,t,r){var n=r.platform,o=r.emitPlatform,i=r.versionId,s=r.emitVer;if(!(0,a.getVerApp)(e,r)){Et(e,t,r);var u=(0,a.getVerApp)(t,{platform:n,versionId:i});if(!u&&o&&(u=(0,a.getVerApp)(t,{platform:o,versionId:s,strictMatchVer:!1})),!u)throw new Error("seems plat ".concat(o," emit null app for ").concat(t));return N(O(O({},u),{platform:n,appGroupName:t,appName:e,versionId:i})),!1}return!0}(u,h,e);return t}catch(e){return p(e),!1}};if(E){var T=E.enable,C=void 0===T||T,P=E.host,w=E.appGroupName,D=E.trust;if(C&&P)return void 0!==D&&D?void(I({versionId:i,platform:v,emitPlatform:b,emitVer:y})&&l()):void(h&&(h===u||h===w)&&l())}if(!1===d&&h&&(null==A?void 0:A.app_group_name)===h&&v===b)return(0,a.log)("".concat(n," treat emitApp as wanted when strictMatchVer is false (appInfo):"),e),l();var x=function(){return(0,a.log)("".concat(n," still wait ").concat(_," to be emitted (emitAppInfo,toMatch):"),e,V)},V={branchId:S,platform:c,emitVer:y,inputVer:i,projectId:s,strictMatchVer:d};if(u!==m||!ke(u,V))return x();var M=$(v,"trustAppNames",[null,[]],{emptyArrIsNull:!1});if(v!==b&&(L||M.includes(u))&&!I({versionId:i,platform:v,emitPlatform:b,emitVer:y}))return(0,a.log)("".concat(n," transfer ").concat(b," app [").concat(u,"] to ").concat(v," plat due to being in trustAppNames")),x();l()}var Tt=Object.freeze({__proto__:null,getLibOrApp:Lt,judgeAppReady:It});function Ct(e){var t=e.platform,r=w(e,["platform"]);a.initPlatformConfig(r,t)}function Pt(){return a.isSubApp()}function Nt(e){if(e&&!e.default)try{e.default=e}catch(e){}return e}function Ot(e){var t=(0,a.getGlobalThis)();Object.keys(e).forEach((function(r){var n=e[r];n&&(t[r]=n)}))}function wt(e){var t=Nt(e.React),r=Nt(e.ReactDOM),n=e.ReactIs||null,o=e.ReactReconciler||null;Ot({LEAH_React:t,LEAH_ReactDOM:r,LEAH_ReactIs:n,LEAH_ReactReconciler:o,React:t,ReactDOM:r,ReactIs:n,ReactReconciler:o})}function Dt(e){var t=Nt(e.Vue);Ot({LEAH_Vue:t,Vue:t})}function xt(e){return"".concat(Fe.EXTRA_DATA_PREFIX,".").concat(e)}function Vt(e,t){var r,n,o=null!=t&&t,i=null!==(n=null===(r=(0,a.getGlobalThis)().localStorage)||void 0===r?void 0:r.getItem(xt(e)))&&void 0!==n?n:null;return i?o?JSON.parse(i):i:null}function Mt(e,t,r){var n,o=null!=r&&r?JSON.stringify(t):t;null===(n=(0,a.getGlobalThis)().localStorage)||void 0===n||n.setItem(xt(e),o)}function Rt(e){var t;return"string"==typeof e?null===(t=(0,a.getGlobalThis)())||void 0===t?void 0:t.document.getElementById(e):e}function Ft(e,t){return{name:e,platform:(null==t?void 0:t.platform)||(0,a.getAppPlatform)(e),versionId:(null==t?void 0:t.versionId)||"",getShadowAppRoot:Rt,getShadowBodyRoot:Rt}}var jt=a.commonUtil.getObjsVal,kt=a.commonUtil.purify,Gt=Fe.ENABLE_DISK_CACHE,Ut=Fe.ENABLE_SYNC_META,Bt=Fe.STORAGE_TYPE,Kt="preFetchLib",Ht="preFetchApp",Yt="preFetch";function Wt(e,t){var r="string"==typeof t?{versionId:t}:O({},t||{});return r.platform=U(r.platform),r.isLib=e,r}function Xt(e,t,r){return D(this,void 0,void 0,(function(){var n,o,i,s,u,c,l,p,f;return x(this,(function(d){switch(d.label){case 0:return n=(0,a.getHelEventBus)(),o=t.platform,i=t.isLib,s=void 0!==i&&i,u=t.versionId,c=t.projectId,l=t.strictMatchVer,p=s?a.helEvents.SUB_LIB_LOADED:a.helEvents.SUB_APP_LOADED,f=null,[4,new Promise((function(i,d){if(f=function(r){It(r,{appName:e,platform:o,versionId:u,projectId:c,isLib:s,next:i,error:d,strictMatchVer:l},t)},n.on(p,f),r){var v=(0,a.getAppMeta)(e,o);v&&function(e,t,r){if(r.shadow){if(!t)return;var n=At(e,r);a.commonDataUtil.setIgnoreCssPrefix(n),a.commonDataUtil.setIgnoreStyleTagKey(e),a.commonDataUtil.setIgnoreStyleTagKey(t),a.commonDataUtil.setIgnoreCssPrefixKey(n,t)}}(e,v.app_group_name,t),r()}}))];case 1:return d.sent(),f&&n.off(p,f),[2,Lt(e,t)]}}))}))}function qt(e,t){return D(this,void 0,void 0,(function(){var r,n,o,i,s,u,c,l,p,f,d;return x(this,(function(v){switch(v.label){case 0:r=null,n=t.versionId,o=t.platform,i=t.isLib,s=t.strictMatchVer,u=t.semverApi,c=O({},t),l=i?Kt:Ht,v.label=1;case 1:return v.trys.push([1,7,,8]),c.strictMatchVer=$(o,"strictMatchVer",[s]),c.storageType=t.storageType||"indexedDB",c.semverApi=$(o,"semverApi",[u]),(r=Lt(e,c))&&(!n||n&&r.versionId===n)?((0,a.log)("[[ ".concat(l," ]] return cached app:"),e,c),[2,{emitApp:r,msg:""}]):(p=null,(f=(0,a.getVerLoadStatus)(e,c))!==a.helLoadStatus.LOADED?[3,3]:[4,Xt(e,c)]);case 2:return r=v.sent(),(0,a.log)("[[ ".concat(l," ]] return emit app:"),e,c,r),[2,{emitApp:r,msg:""}];case 3:return f===a.helLoadStatus.LOADING?[3,5]:((0,a.setVerLoadStatus)(e,a.helLoadStatus.LOADING,c),[4,at(e,O(O({},c),{controlLoadAssets:!0}))]);case 4:p=v.sent(),(0,a.perfPeek)(Yt,"loadApp"),v.label=5;case 5:return[4,Xt(e,t,p)];case 6:return r=v.sent(),(0,a.perfPeek)(Yt,"waitAppEmit"),(0,a.log)("[[ ".concat(l," ]] return fetch&emit app:"),e,c,r),[2,{emitApp:r,msg:""}];case 7:return d=v.sent(),console.error(d),(0,a.setVerLoadStatus)(e,a.helLoadStatus.NOT_LOAD,c),[2,{emitApp:r,msg:d.message}];case 8:return[2]}}))}))}function Jt(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,s,u,c,l,p;return x(this,(function(f){switch(f.label){case 0:return(0,a.perfMark)(Yt),r="".concat(Kt,"(").concat(e,")"),n=se(r,!0),o=Wt(!0,t),[4,qt(e,o)];case 1:if(i=f.sent(),s=i.emitApp,u=i.msg,!(c=null==s?void 0:s.appProperties)&&o.onLibNull&&(l=o.onLibNull(e,{versionId:o.versionId}))&&(c=l),ue(r,n),(0,a.perfPeek)(Yt,"end",!0),!c)throw p=u?" details : ".concat(u):"",new Error("".concat(Kt," ").concat(e," fail from ").concat(o.platform,", it may be an invalid module!").concat(p));return[2,c]}}))}))}function zt(e,t){return D(this,void 0,void 0,(function(){var r,n;return x(this,(function(o){switch(o.label){case 0:return(0,a.perfMark)(Yt),r=Wt(!1,t),[4,qt(e,r)];case 1:return n=o.sent(),(0,a.perfPeek)(Yt,"end",!0),[2,(null==n?void 0:n.emitApp)||null]}}))}))}function Qt(e,t){return D(this,void 0,Promise,(function(){var r,n,o,i,a,s,u,c,l,p,f,d,v,m,h,g,b,y,_,A,S,E,L;return x(this,(function(I){switch(I.label){case 0:if(r=(null==t?void 0:t.preFetchConfigs)||{},n=O({semverApi:!1},(null==t?void 0:t.common)||{}),o=U(n.platform),i=n.versionIdList,a=void 0===i?[]:i,s=n.projectIdList,u=void 0===s?[]:s,c=n.branchIdList,l=void 0===c?[]:c,p=[],f=[],d=[],e.length>8)throw new Error("only support 8 appName at most!");for(b in v=[],m=[],h={},g=[],e)g.push(b);y=0,I.label=1;case 1:return y<g.length?(_=g[y],A=e[_],S=r[A],E={platform:o,versionId:a[_]||"",projectId:u[_]||"",branchId:l[_]||""},"string"==typeof S&&S?E.versionId=S:"object"===C(S)&&S&&((E=O(O({},E),kt(S))).platform=o),h[A]=E,E.enableDiskCache=jt([E,n],"enableDiskCache",Gt),E.enableSyncMeta=jt([E,n],"enableSyncMeta",Ut),E.storageType=jt([E,n],"storageType",Bt),[4,tt(A,E,{callRemote:!1})]):[3,4];case 2:I.sent()||(m.push(A),p[_]=E.versionId||"",f[_]=E.projectId||"",d[_]=E.branchId||""),I.label=3;case 3:return y++,[3,1];case 4:return n.versionIdList=p,n.projectIdList=f,n.branchIdList=d,n.semverApi?[4,Promise.all(m.map((function(e){return Le(e,h[e])})))]:[3,6];case 5:return v=I.sent(),[3,8];case 6:return[4,Te(m,n)];case 7:v=I.sent(),I.label=8;case 8:return v.forEach((function(e){var t=e.app,r=e.version,n=h[t.name]||{};ot(t,{appVersion:r,platform:o,toDisk:n.enableDiskCache,loadOptions:n})})),L=e.map((function(e){return Jt(e,h[e])})),[4,Promise.all(L)];case 9:return[2,I.sent()]}}))}))}var Zt=Object.freeze({__proto__:null,core:a,VER:P,emitApp:N,getAppCacheKey:B,getCachedAppMeta:K,appMetaSrv:st,appParamSrv:pt,appStyleSrv:St,logicSrv:Tt,init:Ct,isSubApp:Pt,bindExternals:Ot,bindReactRuntime:wt,bindVueRuntime:Dt,getExtraData:Vt,setExtraData:Mt,getFakeHelContext:Ft,batchPreFetchLib:Qt,preFetchApp:zt,preFetchLib:Jt}),$t=a.commonUtil.purify,er=a.getUserEventBus(),tr=["eventBus","getExtraData","setExtraData","bindExternals","bindVueRuntime","bindReactRuntime","isSubApp"],rr={ignoreFns:["tryGetAppName","log","commonUtil","getCommonData","setCommonData","setGlobalThis"],arg1PlatFns:["getPlatformConfig","getSharedCache"],arg2PlatFns:["initPlatformConfig","getAppMeta","setAppMeta","tryGetVersion","setAppPlatform"],arg2PlatObjFns:[]},nr=["preFetchLib","preFetchApp"],or=["getSubAppMeta","getMetaDataUrl"],ir=["emitApp","init"],ar=["getAppCacheKey"];function sr(e,t,r){var n=r.preFetchOptions,o=r.isCore,i={};return Object.keys(t).forEach((function(a){var s=t[a];if(tr.includes(a))i[a]=s;else{var u=C(s);if("function"!==u)if(s&&"object"===u){var c=O(O({},r),{isCore:"core"===a});i[a]=sr(e,s,c)}else i[a]=s;else{var l={fnName:a,fn:s,isCore:o,preFetchOptions:n};i[a]=function(e,t){var r=this,n=t.fnName,o=t.fn,i=t.isCore,a=t.preFetchOptions;return function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var u=function(t){return O({platform:e},$t(t||{}))},c=t[0],l=t[1],p=t[2];if(i){if("getPlatform"===n)return e;rr.arg1PlatFns.includes(n)?t[0]=c||e:rr.arg2PlatFns.includes(n)?t[1]=l||e:rr.arg2PlatObjFns.includes(n)?t[1]=u(l):rr.ignoreFns.includes(n)||(n.startsWith("set")?t[2]=u(p):t[1]=u(l))}else if("batchPreFetchLib"===n){var f=l||{},d=u(f.common);t[1]=O(O({},f),{common:d})}else if(nr.includes(n)){var v=$t("string"==typeof l?{versionId:l}:l||{});a&&(v=$t(O(O({},a),v))),t[1]=O({platform:e},v)}else if(or.includes(n)){var m=(a||{}).semverApi,h=void 0===m||m;t[1]=u(O({semverApi:h},$t(l||{})))}else ir.includes(n)?t[0]=u(c):ar.includes(n)?t[1]=l||e:t[1]=u(l);return o.apply(r,t)}}(e,l)}}})),i}function ur(e,t){var r=sr(e,Zt,{preFetchOptions:t});return r.createInstance=ur,r.createOriginInstance=cr,r.resetGlobalThis=a.resetGlobalThis,r.eventBus=er,r.default=r,r}function cr(e,t){var r=t||{};r.trustAppNames;var n=w(r,["trustAppNames"]);return(0,a.originInit)(e,t),ur(e,n)}var lr=P,pr=Jt,fr=zt,dr=Qt,vr=St,mr=pt,hr=st,gr=Tt,br=N,yr=Ct,_r=Pt,Ar=B,Sr=K,Er=Ft,Lr=Vt,Ir=Mt,Tr=Ot,Cr=Dt,Pr=wt,Nr=a,Or=a.resetGlobalThis,wr=ur,Dr=cr,xr=a.getUserEventBus();Nr.log("hel-micro ver ".concat(lr));var Vr,Mr={VER:lr,preFetchLib:pr,preFetchApp:fr,batchPreFetchLib:dr,appStyleSrv:vr,appParamSrv:mr,appMetaSrv:hr,logicSrv:gr,emitApp:br,eventBus:xr,init:yr,isSubApp:_r,getAppCacheKey:Ar,getCachedAppMeta:Sr,getFakeHelContext:Er,getExtraData:Lr,setExtraData:Ir,bindExternals:Tr,bindVueRuntime:Cr,bindReactRuntime:Pr,resetGlobalThis:Or,core:a,createInstance:wr,createOriginInstance:Dr},Rr=!0,Fr=null===(Vr=Nr.getGlobalThis())||void 0===Vr?void 0:Vr.location;if(Fr){var jr=Fr.port,kr=Fr.host;Rr=!!jr||kr.includes(".woa.com")||kr.includes(".oa.com")}Mr.core.log("@tencent/hel-micro ver ".concat("4.3.4"));var Gr=Mr.createOriginInstance("hel",{getApiPrefix:function(){return Rr?"https://hel.woa.com":"https://footprint.qq.com/hel"},getUserName:function(e){var t=e.userLsKey,r=void 0===t?"":t,n=function(){var e,t={getItem:function(){},setItem:function(){}};try{return(null===(e=Nr.getGlobalThis())||void 0===e?void 0:e.localStorage)||t}catch(e){return t}}().getItem(r)||"";if(n)return n;try{var o={};Nr.getGlobalThis().document.cookie.split(";").forEach((function(e){var t=e.split("="),r=t[0],n=t[1];o[r]=n})),n=function(e,t){for(var r="",n=0,o=t;n<o.length;n++){var i=o[n];if(e[i]){r=e[i];break}}return r}(o,[r,"xc_user","t_uid","km_uid","bk_uid"])}catch(e){Nr.log("[[ guessUserName ]]",e)}return n},semverApi:!1}),Ur=Gr.preFetchLib,Br=Gr.preFetchApp,Kr=Gr.batchPreFetchLib,Hr=Gr.appStyleSrv,Yr=Gr.appParamSrv,Wr=Gr.appMetaSrv,Xr=Gr.logicSrv,qr=Gr.emitApp,Jr=Gr.eventBus,zr=Gr.init,Qr=Gr.isSubApp,Zr=Gr.getAppCacheKey,$r=Gr.getCachedAppMeta,en=Gr.getFakeHelContext,tn=Gr.getExtraData,rn=Gr.setExtraData,nn=Gr.bindExternals,on=Gr.bindVueRuntime,an=Gr.bindReactRuntime,sn=Gr.resetGlobalThis,un=Gr.core;window.TencentHelLibProxy=e,window.TencentHelMicro=t}(),n}()}));
//# sourceMappingURL=index.js.map